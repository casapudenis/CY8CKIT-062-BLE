ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.syntax unified
  16              		.file	"CapSense_Centroid_LL.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.bss
  21              		.align	2
  22              	localMax:
  23 0000 00       		.space	1
  24 0001 000000   		.align	2
  25              	localDiffArray:
  26 0004 00000000 		.space	6
  26      0000
  27              	localMaxIndex:
  28 000a 00       		.space	1
  29              		.section	.text.CapSense_DpFindLocalMaxSd,"ax",%progbits
  30              		.align	2
  31              		.global	CapSense_DpFindLocalMaxSd
  32              		.thumb
  33              		.thumb_func
  34              		.type	CapSense_DpFindLocalMaxSd, %function
  35              	CapSense_DpFindLocalMaxSd:
  36              	.LFB125:
  37              		.file 1 "Generated_Source\\PSoC6\\CapSense_Centroid_LL.c"
   1:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /***************************************************************************//**
   2:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \file CapSense_Centroid_LL.c
   3:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \version 2.0
   4:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
   5:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
   6:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This file provides the source code for the centroid calculation methods
   7:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   of the Component.
   8:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
   9:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \see CapSense v2.0 Datasheet
  10:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
  11:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *//*****************************************************************************
  12:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Copyright (2016-2017), Cypress Semiconductor Corporation.
  13:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ********************************************************************************
  14:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * This software is owned by Cypress Semiconductor Corporation (Cypress) and is
  15:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * protected by and subject to worldwide patent protection (United States and
  16:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * foreign), United States copyright laws and international treaty provisions.
  17:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress hereby grants to licensee a personal, non-exclusive, non-transferable
  18:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * license to copy, use, modify, create derivative works of, and compile the
  19:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress Source Code and derivative works for the sole purpose of creating
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 2


  20:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * custom software in support of licensee product to be used only in conjunction
  21:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * with a Cypress integrated circuit as specified in the applicable agreement.
  22:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Any reproduction, modification, translation, compilation, or representation of
  23:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * this software except as specified above is prohibited without the express
  24:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * written permission of Cypress.
  25:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
  26:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Disclaimer: CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH
  27:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * REGARD TO THIS MATERIAL, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  28:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  29:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress reserves the right to make changes without further notice to the
  30:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * materials described herein. Cypress does not assume any liability arising out
  31:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * of the application or use of any product or circuit described herein. Cypress
  32:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * does not authorize its products for use as critical components in life-support
  33:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * systems where a malfunction or failure may reasonably be expected to result in
  34:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * significant injury to the user. The inclusion of Cypress' product in a life-
  35:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * support systems application implies that the manufacturer assumes all risk of
  36:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * such use and in doing so indemnifies Cypress against all charges. Use may be
  37:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * limited by and subject to the applicable Cypress software license agreement.
  38:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  39:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  40:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include <string.h>
  41:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "stddef.h"
  42:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "syslib/cy_syslib.h"
  43:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Centroid_LL.h"
  44:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Configuration.h"
  45:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Structure.h"
  46:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Filter.h"
  47:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  48:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  49:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Local definition
  50:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  51:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_CSX_TOUCHPAD_WIDGET_EN
  52:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_BUFFER_SIZE \
  53:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (((CapSense_CSX_MAX_LOCAL_PEAKS + 3u) * sizeof(int8)) +                                
  54:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) + /* dist
  55:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) +                                       
  56:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  57:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  58:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)))                                         
  59:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  60:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_FT_ON_FAIL                (0x81u)
  61:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID           (0x82u)
  62:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_ENABLE           (0u)
  63:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID              (0u)
  64:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID              (CapSense_CSX_MAX_LOCAL_PEAKS - 1u)
  65:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_INT32                     (0x7FFFFFFFu)
  66:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_DOWN                (0x80u)
  67:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_LIFT_OFF                  (0x40u)
  68:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK             (0x3Fu)
  69:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_POSITION_NONE             (0xFFFFu)
  70:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_Z_SHIFT                   (0x04u)
  71:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_PADDING                   (3Lu)
  72:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_LENGTH           (3u)
  73:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS         (0u)
  74:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_CENTER           (1u)
  75:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_NEXT             (2u)
  76:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 3


  77:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* CapSense_CSX_TOUCHPAD_WIDGET_EN */
  78:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  79:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  80:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Static variables definition
  81:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  82:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
  83:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
  84:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 localMax[CapSense_NUM_CENTROIDS];
  85:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_THRESHOLD_TYPE localDiffArray[CapSense_NUM_CENTROIDS][3u];
  86:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 localMaxIndex;
  87:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif
  88:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  89:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
  90:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT newTouches;
  91:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrNewTouches = &newTouches;
  92:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 newActiveIDs = 0u;
  93:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 oldActiveIDs = 0u;
  94:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  95:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     typedef int32 CapSense_CSX_TOUCHPAD_DISTANCE_MAP[CapSense_CSX_MAX_LOCAL_PEAKS];
  96:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
  97:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  98:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  99:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * API Prototypes
 100:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 101:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 102:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****       (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) && \
 103:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****       (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN))
 104:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 105:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                   uint32 snsCount, uint32 fingerThreshold, uint32 s
 106:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif
 107:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 108:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
 109:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_TransferTouch(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA
 110:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold);
 111:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE uint8 CapSense_GetLowestId(uint16 idMask);
 112:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DAT
 113:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
 114:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                            CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap);
 115:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
 116:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                  CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches);
 117:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_TouchDownDebounce(void);
 118:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_SortByAge(void);
 119:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
 120:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_PEAK_STRUCT *sourc
 121:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_OFF_DEBOUNCE_EN)
 122:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_LiftOffDebounce(uint8 offDebounce,
 123:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOl
 124:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
 125:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
 126:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 127:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 128:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
 129:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN)
 130:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 131:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd4pts
 132:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 133:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 4


 134:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 135:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 136:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 137:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 138:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 139:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 140:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 141:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
 142:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 143:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 144:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 145:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 146:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 147:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The used finding method checks for 4 points : current, next, previous and before previous
 148:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   sensor's position. Depends on these points differences it chooses the previous or before
 149:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   previous position. For radial sliders an closed character of a widget is taken into the account
 150:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 151:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt
 152:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The pointer to the the widget flash structure.
 153:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 154:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns
 155:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The pointer to the the first sensor.
 156:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 157:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 158:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 159:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 160:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold
 161:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The finger threshold in the widget.
 162:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 163:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 164:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 165:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 166:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd4pts(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt,
 167:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                               CapSense_RAM_SNS_STRUCT ptrSns[],
 168:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                               uint32 snsCount, uint32 fingerThreshold)
 169:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 170:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 171:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
 172:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
 173:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope0 = 0;
 174:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope1 = (int32)localPtrSns[0].diff;
 175:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope2 = 0;
 176:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slopeLast = -(int32)localPtrSns[snsCount - 1u].diff;
 177:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 178:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_TOTAL_RADIAL_SLIDERS)
 179:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((CapSense_WD_TYPE_ENUM)ptrFlashWdgt->wdgtType == CapSense_WD_RADIAL_SLIDER_E)
 180:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 181:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope1 = (int32)localPtrSns[0].diff - (int32)localPtrSns[snsCount - 1u].diff;
 182:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope2 = (int32)localPtrSns[snsCount - 1u].diff - (int32)localPtrSns[snsCount - 2u].dif
 183:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slopeLast = slope1;
 184:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 185:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #else
 186:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Typecast the parameter to avoid a compiler warning */
 187:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         (void) ptrFlashWdgt;
 188:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif
 189:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 190:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Search local maxima for sensorId from 0 to snsCount - 1 */
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 5


 191:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0uL; i < snsCount; i++ )
 192:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 193:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Check for the last sensor */
 194:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((snsCount - 1uL) == i)
 195:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 196:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope0 = slopeLast;
 197:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 198:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 199:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 200:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope0 = (int32)localPtrSns[i + 1u].diff - (int32)localPtrSns[i].diff;
 201:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 202:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 203:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if(0 > slope0)
 204:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 205:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if(0 < slope1)
 206:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 207:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 208:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 209:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 210:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 211:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if(0 == slope1)
 212:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 213:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if(0 == slope2)
 214:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 215:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL));
 216:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 217:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
 218:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 219:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (0 < slope2)
 220:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
 221:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (slope2 > (-slope0))
 222:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 223:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 224:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 225:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             else
 226:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 227:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL))
 228:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 229:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
 230:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 231:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 232:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 233:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 234:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 235:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 break;
 236:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 237:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 238:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         slope2 = slope1;
 239:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         slope1 = slope0;
 240:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 241:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 242:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 243:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 244:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 245:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 246:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_SaveLocalMax
 247:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 6


 248:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 249:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 250:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the arrays.
 251:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 252:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 253:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the localMax array if the difference is greater
 254:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   than a finger threshold. Prepares arrays with maximum neighbour differences for
 255:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   position calculations.
 256:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 257:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *ptrSns
 258:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   A pointer to sensor RAM structure of a found local maximum.
 259:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 260:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 261:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 262:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 263:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold
 264:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   A fingerThreshold to compare with a sensor difference.
 265:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 266:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsIndex
 267:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   An index of a sensor with a found local maximum.
 268:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 269:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 270:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 271:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                     uint32 snsCount, uint32 fingerThreshold, uint32
 272:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 273:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE currentDiff = ptrSns[snsIndex].diff;
 274:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 275:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (currentDiff > fingerThreshold)
 276:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 277:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store found Peak */
 278:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localMax[localMaxIndex] = (uint8)snsIndex;
 279:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localDiffArray[localMaxIndex][CapSense_CENTROID_POS] = currentDiff;
 280:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 281:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store neighbour differences */
 282:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (snsIndex == 0u)
 283:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 284:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 285:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 286:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 287:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else if (snsIndex == (snsCount - 1u))
 288:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 289:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 290:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 291:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 292:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 293:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 294:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 295:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 296:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 297:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 298:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localMaxIndex++;
 299:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 300:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 301:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #else /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 302:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 303:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 304:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 7


 305:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 306:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 307:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 308:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 309:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 310:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 311:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 312:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 313:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 314:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
 315:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 316:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 317:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 318:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 319:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 320:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 321:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 322:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 323:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 324:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 325:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 326:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 327:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 328:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd(CapSense_RAM_SNS_STRUCT ptrSns[], uint32 snsCount,
 329:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                                                    uint32 fingerThr
 330:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
  38              		.loc 1 330 0
  39              		.cfi_startproc
  40              		@ args = 0, pretend = 0, frame = 32
  41              		@ frame_needed = 1, uses_anonymous_args = 0
  42              		@ link register save eliminated.
  43 0000 80B4     		push	{r7}
  44              		.cfi_def_cfa_offset 4
  45              		.cfi_offset 7, -4
  46 0002 89B0     		sub	sp, sp, #36
  47              		.cfi_def_cfa_offset 40
  48 0004 00AF     		add	r7, sp, #0
  49              		.cfi_def_cfa_register 7
  50 0006 F860     		str	r0, [r7, #12]
  51 0008 B960     		str	r1, [r7, #8]
  52 000a 7A60     		str	r2, [r7, #4]
 331:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 332:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 sensorId;
 333:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 334:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 335:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
  53              		.loc 1 335 0
  54 000c FB68     		ldr	r3, [r7, #12]
  55 000e 7B61     		str	r3, [r7, #20]
 336:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_THRESHOLD_TYPE temp = 0u;
  56              		.loc 1 336 0
  57 0010 0023     		movs	r3, #0
  58 0012 7B82     		strh	r3, [r7, #18]	@ movhi
 337:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif
 338:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 339:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
  59              		.loc 1 339 0
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 8


  60 0014 6F4B     		ldr	r3, .L12
  61 0016 0022     		movs	r2, #0
  62 0018 1A70     		strb	r2, [r3]
 340:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 341:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (sensorId = 0u; sensorId < snsCount; sensorId++)
  63              		.loc 1 342 0
  64 001a 0023     		movs	r3, #0
  65 001c BB61     		str	r3, [r7, #24]
  66 001e 1AE0     		b	.L2
  67              	.L4:
 343:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 344:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((localPtrSns->diff > fingerThreshold) && (localPtrSns->diff > temp))
  68              		.loc 1 344 0
  69 0020 7B69     		ldr	r3, [r7, #20]
  70 0022 DB88     		ldrh	r3, [r3, #6]
  71 0024 1A46     		mov	r2, r3
  72 0026 7B68     		ldr	r3, [r7, #4]
  73 0028 9A42     		cmp	r2, r3
  74 002a 0ED9     		bls	.L3
  75              		.loc 1 344 0 is_stmt 0 discriminator 1
  76 002c 7B69     		ldr	r3, [r7, #20]
  77 002e DB88     		ldrh	r3, [r3, #6]
  78 0030 7A8A     		ldrh	r2, [r7, #18]
  79 0032 9A42     		cmp	r2, r3
  80 0034 09D2     		bcs	.L3
 345:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 346:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMax[0u] = CY_LO8(sensorId);
  81              		.loc 1 346 0 is_stmt 1
  82 0036 BB69     		ldr	r3, [r7, #24]
  83 0038 DAB2     		uxtb	r2, r3
  84 003a 674B     		ldr	r3, .L12+4
  85 003c 1A70     		strb	r2, [r3]
 347:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 temp = localPtrSns->diff;
  86              		.loc 1 347 0
  87 003e 7B69     		ldr	r3, [r7, #20]
  88 0040 DB88     		ldrh	r3, [r3, #6]	@ movhi
  89 0042 7B82     		strh	r3, [r7, #18]	@ movhi
 348:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
  90              		.loc 1 348 0
  91 0044 634B     		ldr	r3, .L12
  92 0046 0122     		movs	r2, #1
  93 0048 1A70     		strb	r2, [r3]
  94              	.L3:
 349:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 350:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localPtrSns++;
  95              		.loc 1 350 0 discriminator 2
  96 004a 7B69     		ldr	r3, [r7, #20]
  97 004c 0A33     		adds	r3, r3, #10
  98 004e 7B61     		str	r3, [r7, #20]
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
  99              		.loc 1 342 0 discriminator 2
 100 0050 BB69     		ldr	r3, [r7, #24]
 101 0052 0133     		adds	r3, r3, #1
 102 0054 BB61     		str	r3, [r7, #24]
 103              	.L2:
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 9


 104              		.loc 1 342 0 is_stmt 0 discriminator 1
 105 0056 BA69     		ldr	r2, [r7, #24]
 106 0058 BB68     		ldr	r3, [r7, #8]
 107 005a 9A42     		cmp	r2, r3
 108 005c E0D3     		bcc	.L4
 351:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 352:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #else /* (CapSense_NUM_CENTROIDS == 0x01u) */
 353:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 354:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrSns[0u].diff > fingerThreshold) && (ptrSns[0u].diff >= ptrSns[1u].diff))
 355:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 356:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = 0u;
 357:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMaxIndex = 1u;
 358:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 359:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 360:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrSns[snsCount - 1u].diff > fingerThreshold) && (ptrSns[snsCount - 1u].diff > ptrSns[
 361:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 362:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = (uint8)(snsCount - 1u);
 363:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMaxIndex++;
 364:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 365:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 366:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 367:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMaxIndex < CapSense_NUM_CENTROIDS)
 368:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 369:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
 370:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (sensorId = 1u; sensorId < (snsCount - 1u); sensorId++)
 371:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 372:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((ptrSns[sensorId].diff > fingerThreshold) && (ptrSns[sensorId].diff >= ptrS
 373:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 374:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrSns[sensorId].diff > ptrSns[sensorId - 1u].diff)
 375:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
 376:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             localMax[localMaxIndex] = (uint8)sensorId;
 377:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             localMaxIndex++;
 378:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 379:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 380:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 381:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 break;
 382:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 383:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
 384:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 385:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 386:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 387:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 388:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
 389:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* #if (CapSense_NUM_CENTROIDS == 0x01u) */
 390:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 391:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (localMaxIndex != 0u)
 109              		.loc 1 391 0 is_stmt 1
 110 005e 5D4B     		ldr	r3, .L12
 111 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 112 0062 002B     		cmp	r3, #0
 113 0064 00F0AE80 		beq	.L5
 392:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 393:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < localMaxIndex; i++)
 114              		.loc 1 394 0
 115 0068 0023     		movs	r3, #0
 116 006a FB61     		str	r3, [r7, #28]
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 10


 117 006c A3E0     		b	.L6
 118              	.L10:
 395:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 396:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              localDiffArray[i][CapSense_CENTROID_POS] = ptrSns[localMax[i]].diff;
 119              		.loc 1 396 0
 120 006e 5A4A     		ldr	r2, .L12+4
 121 0070 FB69     		ldr	r3, [r7, #28]
 122 0072 1344     		add	r3, r3, r2
 123 0074 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 124 0076 1A46     		mov	r2, r3
 125 0078 1346     		mov	r3, r2
 126 007a 9B00     		lsls	r3, r3, #2
 127 007c 1344     		add	r3, r3, r2
 128 007e 5B00     		lsls	r3, r3, #1
 129 0080 1A46     		mov	r2, r3
 130 0082 FB68     		ldr	r3, [r7, #12]
 131 0084 1344     		add	r3, r3, r2
 132 0086 D888     		ldrh	r0, [r3, #6]
 133 0088 5449     		ldr	r1, .L12+8
 134 008a FA69     		ldr	r2, [r7, #28]
 135 008c 1346     		mov	r3, r2
 136 008e 5B00     		lsls	r3, r3, #1
 137 0090 1344     		add	r3, r3, r2
 138 0092 5B00     		lsls	r3, r3, #1
 139 0094 0B44     		add	r3, r3, r1
 140 0096 0233     		adds	r3, r3, #2
 141 0098 0246     		mov	r2, r0	@ movhi
 142 009a 1A80     		strh	r2, [r3]	@ movhi
 397:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 398:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMax[i] == 0u)
 143              		.loc 1 398 0
 144 009c 4E4A     		ldr	r2, .L12+4
 145 009e FB69     		ldr	r3, [r7, #28]
 146 00a0 1344     		add	r3, r3, r2
 147 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 148 00a4 002B     		cmp	r3, #0
 149 00a6 29D1     		bne	.L7
 399:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 400:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 150              		.loc 1 400 0
 151 00a8 BA68     		ldr	r2, [r7, #8]
 152 00aa 1346     		mov	r3, r2
 153 00ac 9B00     		lsls	r3, r3, #2
 154 00ae 1344     		add	r3, r3, r2
 155 00b0 5B00     		lsls	r3, r3, #1
 156 00b2 0A3B     		subs	r3, r3, #10
 157 00b4 FA68     		ldr	r2, [r7, #12]
 158 00b6 1344     		add	r3, r3, r2
 159 00b8 D888     		ldrh	r0, [r3, #6]
 160 00ba 4849     		ldr	r1, .L12+8
 161 00bc FA69     		ldr	r2, [r7, #28]
 162 00be 1346     		mov	r3, r2
 163 00c0 5B00     		lsls	r3, r3, #1
 164 00c2 1344     		add	r3, r3, r2
 165 00c4 5B00     		lsls	r3, r3, #1
 166 00c6 0B44     		add	r3, r3, r1
 167 00c8 0246     		mov	r2, r0	@ movhi
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 11


 168 00ca 1A80     		strh	r2, [r3]	@ movhi
 401:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 169              		.loc 1 401 0
 170 00cc 424A     		ldr	r2, .L12+4
 171 00ce FB69     		ldr	r3, [r7, #28]
 172 00d0 1344     		add	r3, r3, r2
 173 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 174 00d4 5A1C     		adds	r2, r3, #1
 175 00d6 1346     		mov	r3, r2
 176 00d8 9B00     		lsls	r3, r3, #2
 177 00da 1344     		add	r3, r3, r2
 178 00dc 5B00     		lsls	r3, r3, #1
 179 00de 1A46     		mov	r2, r3
 180 00e0 FB68     		ldr	r3, [r7, #12]
 181 00e2 1344     		add	r3, r3, r2
 182 00e4 D888     		ldrh	r0, [r3, #6]
 183 00e6 3D49     		ldr	r1, .L12+8
 184 00e8 FA69     		ldr	r2, [r7, #28]
 185 00ea 1346     		mov	r3, r2
 186 00ec 5B00     		lsls	r3, r3, #1
 187 00ee 1344     		add	r3, r3, r2
 188 00f0 5B00     		lsls	r3, r3, #1
 189 00f2 0B44     		add	r3, r3, r1
 190 00f4 0433     		adds	r3, r3, #4
 191 00f6 0246     		mov	r2, r0	@ movhi
 192 00f8 1A80     		strh	r2, [r3]	@ movhi
 193 00fa 59E0     		b	.L8
 194              	.L7:
 402:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 403:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else if (localMax[i] == ((uint8)(snsCount - 1u)))
 195              		.loc 1 403 0
 196 00fc 364A     		ldr	r2, .L12+4
 197 00fe FB69     		ldr	r3, [r7, #28]
 198 0100 1344     		add	r3, r3, r2
 199 0102 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 200 0104 BB68     		ldr	r3, [r7, #8]
 201 0106 DBB2     		uxtb	r3, r3
 202 0108 013B     		subs	r3, r3, #1
 203 010a DBB2     		uxtb	r3, r3
 204 010c 9A42     		cmp	r2, r3
 205 010e 22D1     		bne	.L9
 404:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 405:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 206              		.loc 1 405 0
 207 0110 314A     		ldr	r2, .L12+4
 208 0112 FB69     		ldr	r3, [r7, #28]
 209 0114 1344     		add	r3, r3, r2
 210 0116 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 211 0118 1A46     		mov	r2, r3
 212 011a 1346     		mov	r3, r2
 213 011c 9B00     		lsls	r3, r3, #2
 214 011e 1344     		add	r3, r3, r2
 215 0120 5B00     		lsls	r3, r3, #1
 216 0122 0A3B     		subs	r3, r3, #10
 217 0124 FA68     		ldr	r2, [r7, #12]
 218 0126 1344     		add	r3, r3, r2
 219 0128 D888     		ldrh	r0, [r3, #6]
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 12


 220 012a 2C49     		ldr	r1, .L12+8
 221 012c FA69     		ldr	r2, [r7, #28]
 222 012e 1346     		mov	r3, r2
 223 0130 5B00     		lsls	r3, r3, #1
 224 0132 1344     		add	r3, r3, r2
 225 0134 5B00     		lsls	r3, r3, #1
 226 0136 0B44     		add	r3, r3, r1
 227 0138 0246     		mov	r2, r0	@ movhi
 228 013a 1A80     		strh	r2, [r3]	@ movhi
 406:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 229              		.loc 1 406 0
 230 013c FB68     		ldr	r3, [r7, #12]
 231 013e D888     		ldrh	r0, [r3, #6]
 232 0140 2649     		ldr	r1, .L12+8
 233 0142 FA69     		ldr	r2, [r7, #28]
 234 0144 1346     		mov	r3, r2
 235 0146 5B00     		lsls	r3, r3, #1
 236 0148 1344     		add	r3, r3, r2
 237 014a 5B00     		lsls	r3, r3, #1
 238 014c 0B44     		add	r3, r3, r1
 239 014e 0433     		adds	r3, r3, #4
 240 0150 0246     		mov	r2, r0	@ movhi
 241 0152 1A80     		strh	r2, [r3]	@ movhi
 242 0154 2CE0     		b	.L8
 243              	.L9:
 407:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 408:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 409:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 410:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 244              		.loc 1 410 0
 245 0156 204A     		ldr	r2, .L12+4
 246 0158 FB69     		ldr	r3, [r7, #28]
 247 015a 1344     		add	r3, r3, r2
 248 015c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 249 015e 1A46     		mov	r2, r3
 250 0160 1346     		mov	r3, r2
 251 0162 9B00     		lsls	r3, r3, #2
 252 0164 1344     		add	r3, r3, r2
 253 0166 5B00     		lsls	r3, r3, #1
 254 0168 0A3B     		subs	r3, r3, #10
 255 016a FA68     		ldr	r2, [r7, #12]
 256 016c 1344     		add	r3, r3, r2
 257 016e D888     		ldrh	r0, [r3, #6]
 258 0170 1A49     		ldr	r1, .L12+8
 259 0172 FA69     		ldr	r2, [r7, #28]
 260 0174 1346     		mov	r3, r2
 261 0176 5B00     		lsls	r3, r3, #1
 262 0178 1344     		add	r3, r3, r2
 263 017a 5B00     		lsls	r3, r3, #1
 264 017c 0B44     		add	r3, r3, r1
 265 017e 0246     		mov	r2, r0	@ movhi
 266 0180 1A80     		strh	r2, [r3]	@ movhi
 411:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 267              		.loc 1 411 0
 268 0182 154A     		ldr	r2, .L12+4
 269 0184 FB69     		ldr	r3, [r7, #28]
 270 0186 1344     		add	r3, r3, r2
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 13


 271 0188 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272 018a 5A1C     		adds	r2, r3, #1
 273 018c 1346     		mov	r3, r2
 274 018e 9B00     		lsls	r3, r3, #2
 275 0190 1344     		add	r3, r3, r2
 276 0192 5B00     		lsls	r3, r3, #1
 277 0194 1A46     		mov	r2, r3
 278 0196 FB68     		ldr	r3, [r7, #12]
 279 0198 1344     		add	r3, r3, r2
 280 019a D888     		ldrh	r0, [r3, #6]
 281 019c 0F49     		ldr	r1, .L12+8
 282 019e FA69     		ldr	r2, [r7, #28]
 283 01a0 1346     		mov	r3, r2
 284 01a2 5B00     		lsls	r3, r3, #1
 285 01a4 1344     		add	r3, r3, r2
 286 01a6 5B00     		lsls	r3, r3, #1
 287 01a8 0B44     		add	r3, r3, r1
 288 01aa 0433     		adds	r3, r3, #4
 289 01ac 0246     		mov	r2, r0	@ movhi
 290 01ae 1A80     		strh	r2, [r3]	@ movhi
 291              	.L8:
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 292              		.loc 1 394 0 discriminator 2
 293 01b0 FB69     		ldr	r3, [r7, #28]
 294 01b2 0133     		adds	r3, r3, #1
 295 01b4 FB61     		str	r3, [r7, #28]
 296              	.L6:
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 297              		.loc 1 394 0 is_stmt 0 discriminator 1
 298 01b6 074B     		ldr	r3, .L12
 299 01b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 300 01ba 1A46     		mov	r2, r3
 301 01bc FB69     		ldr	r3, [r7, #28]
 302 01be 9A42     		cmp	r2, r3
 303 01c0 3FF655AF 		bhi	.L10
 304              	.L5:
 412:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 413:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 414:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 415:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Return status to check if at least one maximum has been found */
 416:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 305              		.loc 1 416 0 is_stmt 1
 306 01c4 034B     		ldr	r3, .L12
 307 01c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 417:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 308              		.loc 1 417 0
 309 01c8 1846     		mov	r0, r3
 310 01ca 2437     		adds	r7, r7, #36
 311              		.cfi_def_cfa_offset 4
 312 01cc BD46     		mov	sp, r7
 313              		.cfi_def_cfa_register 13
 314              		@ sp needed
 315 01ce 5DF8047B 		ldr	r7, [sp], #4
 316              		.cfi_restore 7
 317              		.cfi_def_cfa_offset 0
 318 01d2 7047     		bx	lr
 319              	.L13:
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 14


 320              		.align	2
 321              	.L12:
 322 01d4 0A000000 		.word	localMaxIndex
 323 01d8 00000000 		.word	localMax
 324 01dc 04000000 		.word	localDiffArray
 325              		.cfi_endproc
 326              	.LFE125:
 327              		.size	CapSense_DpFindLocalMaxSd, .-CapSense_DpFindLocalMaxSd
 328              		.section	.text.CapSense_DpCalcLinearCentroid,"ax",%progbits
 329              		.align	2
 330              		.global	CapSense_DpCalcLinearCentroid
 331              		.thumb
 332              		.thumb_func
 333              		.type	CapSense_DpCalcLinearCentroid, %function
 334              	CapSense_DpCalcLinearCentroid:
 335              	.LFB126:
 418:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 419:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 420:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****           (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) */
 421:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 422:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_DIPLEXED_SLIDERS
 423:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 424:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDiplex
 425:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 426:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 427:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 428:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences. Used only for diplexed linear slider.
 429:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 430:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 431:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 432:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 433:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 434:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 435:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 436:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 437:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param diplexTable The pointer to the diplex table.
 438:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 439:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 440:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 441:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 442:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 443:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxDiplex(
 444:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_RAM_SNS_STRUCT ptrSns[],
 445:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint32 snsCount,
 446:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint8 const diplexTable[],
 447:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint32 fingerThreshold)
 448:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 449:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 sensorId;
 450:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 diplexSensorId;
 451:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 452:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 biggestStartPos = 0u;
 453:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 biggestSize = 0u;
 454:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 curStartPos = 0u;
 455:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 curSize = 0u;
 456:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE temp = 0u;
 457:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 458:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 15


 459:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 460:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (sensorId = 0u; sensorId < (snsCount << 1u); sensorId++)
 461:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 462:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         diplexSensorId = diplexTable[sensorId];
 463:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 464:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (ptrSns[diplexSensorId].diff > fingerThreshold)
 465:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 466:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (0u == curSize)
 467:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 468:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 curStartPos = sensorId;
 469:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 470:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 471:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             curSize++;
 472:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 473:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 474:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 475:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (curSize > biggestSize)
 476:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 477:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 biggestSize = curSize;
 478:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 biggestStartPos = curStartPos;
 479:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 480:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             curSize = 0u;
 481:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 482:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 483:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 484:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (curSize > biggestSize)
 485:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 486:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         biggestSize = curSize;
 487:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         biggestStartPos = curStartPos;
 488:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 489:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 490:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (biggestSize >= CapSense_CENTROID_DIPLEX_SECTION_LENGTH)
 491:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 492:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (sensorId = biggestStartPos; sensorId < (biggestStartPos + biggestSize); sensorId++)
 493:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 494:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[sensorId];
 495:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 496:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (ptrSns[diplexSensorId].diff > temp)
 497:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 498:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMax[0u] = CY_LO8(sensorId);
 499:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 temp = ptrSns[diplexSensorId].diff;
 500:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
 501:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 502:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 503:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 504:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 505:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (localMax[0u] == 0u)
 506:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 507:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = 0u;
 508:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[localMax[0u]].diff;
 509:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[0u] + 1u].diff;
 510:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 511:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 512:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else if (localMax[0u] == ((snsCount << 1u) - 1u))
 513:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 514:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 515:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 16


 516:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
 517:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 518:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = 0u;
 519:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 520:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 521:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 522:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 523:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
 524:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
 525:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 526:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] + 1u];
 527:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[diplexSensorId].diff;
 528:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 529:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 530:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 531:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 532:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 533:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_DIPLEXED_SLIDERS */
 534:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 535:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 536:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 537:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN))
 538:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 539:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcLinearCentroid
 540:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 541:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 542:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 543:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position of the linear slider.
 544:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 545:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 546:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 547:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 548:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 549:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 550:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param position
 551:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The pointer to the position array for temporary position storage.
 552:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 553:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param multiplier
 554:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The multiplier used for position calculation. Contains the widget resolution and total sensor
 555:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  information. It is generated by customizer.
 556:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 557:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 558:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The number of sensors in the linear slider. The doubled snsCount has to be passed
 559:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  if this API is called for diplexed slider.
 560:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 561:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param offset
 562:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The additional position offset as half of the multiplier.
 563:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 564:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 565:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 566:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 567:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcLinearCentroid(uint16 position[], uint32 multiplier, uint32 snsCount, uint32 
 568:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 336              		.loc 1 568 0
 337              		.cfi_startproc
 338              		@ args = 0, pretend = 0, frame = 32
 339              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 17


 340              		@ link register save eliminated.
 341 0000 80B4     		push	{r7}
 342              		.cfi_def_cfa_offset 4
 343              		.cfi_offset 7, -4
 344 0002 89B0     		sub	sp, sp, #36
 345              		.cfi_def_cfa_offset 40
 346 0004 00AF     		add	r7, sp, #0
 347              		.cfi_def_cfa_register 7
 348 0006 F860     		str	r0, [r7, #12]
 349 0008 B960     		str	r1, [r7, #8]
 350 000a 7A60     		str	r2, [r7, #4]
 351 000c 3B60     		str	r3, [r7]
 569:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 numerator;
 570:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 denominator;
 571:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 572:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 352              		.loc 1 573 0
 353 000e 0023     		movs	r3, #0
 354 0010 FB61     		str	r3, [r7, #28]
 355 0012 73E0     		b	.L15
 356              	.L18:
 574:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 575:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /*
 576:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          * The CapSense_DpFindLocalMaxSd API prepares the unified localDiffArray[][] for linear and
 577:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          *  Therefore, the difference of the first and the last elements of linear slider are clear
 578:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          */
 579:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 580:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (localMax[i] == 0u)
 357              		.loc 1 580 0
 358 0014 404A     		ldr	r2, .L20
 359 0016 FB69     		ldr	r3, [r7, #28]
 360 0018 1344     		add	r3, r3, r2
 361 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 362 001c 002B     		cmp	r3, #0
 363 001e 09D1     		bne	.L16
 581:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 582:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[i][CapSense_CENTROID_POS_PREV] = 0u;
 364              		.loc 1 582 0
 365 0020 3E49     		ldr	r1, .L20+4
 366 0022 FA69     		ldr	r2, [r7, #28]
 367 0024 1346     		mov	r3, r2
 368 0026 5B00     		lsls	r3, r3, #1
 369 0028 1344     		add	r3, r3, r2
 370 002a 5B00     		lsls	r3, r3, #1
 371 002c 0B44     		add	r3, r3, r1
 372 002e 0022     		movs	r2, #0
 373 0030 1A80     		strh	r2, [r3]	@ movhi
 374 0032 12E0     		b	.L17
 375              	.L16:
 583:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 584:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 585:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 586:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMax[i] == (snsCount - 1u))
 376              		.loc 1 586 0
 377 0034 384A     		ldr	r2, .L20
 378 0036 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 18


 379 0038 1344     		add	r3, r3, r2
 380 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 381 003c 1A46     		mov	r2, r3
 382 003e 7B68     		ldr	r3, [r7, #4]
 383 0040 013B     		subs	r3, r3, #1
 384 0042 9A42     		cmp	r2, r3
 385 0044 09D1     		bne	.L17
 587:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 588:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = 0u;
 386              		.loc 1 588 0
 387 0046 3549     		ldr	r1, .L20+4
 388 0048 FA69     		ldr	r2, [r7, #28]
 389 004a 1346     		mov	r3, r2
 390 004c 5B00     		lsls	r3, r3, #1
 391 004e 1344     		add	r3, r3, r2
 392 0050 5B00     		lsls	r3, r3, #1
 393 0052 0B44     		add	r3, r3, r1
 394 0054 0433     		adds	r3, r3, #4
 395 0056 0022     		movs	r2, #0
 396 0058 1A80     		strh	r2, [r3]	@ movhi
 397              	.L17:
 589:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 590:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 591:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 592:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 593:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 398              		.loc 1 593 0 discriminator 2
 399 005a 3049     		ldr	r1, .L20+4
 400 005c FA69     		ldr	r2, [r7, #28]
 401 005e 1346     		mov	r3, r2
 402 0060 5B00     		lsls	r3, r3, #1
 403 0062 1344     		add	r3, r3, r2
 404 0064 5B00     		lsls	r3, r3, #1
 405 0066 0B44     		add	r3, r3, r1
 406 0068 0433     		adds	r3, r3, #4
 407 006a 1B88     		ldrh	r3, [r3]
 408 006c 1846     		mov	r0, r3
 594:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 409              		.loc 1 594 0 discriminator 2
 410 006e 2B49     		ldr	r1, .L20+4
 411 0070 FA69     		ldr	r2, [r7, #28]
 412 0072 1346     		mov	r3, r2
 413 0074 5B00     		lsls	r3, r3, #1
 414 0076 1344     		add	r3, r3, r2
 415 0078 5B00     		lsls	r3, r3, #1
 416 007a 0B44     		add	r3, r3, r1
 417 007c 1B88     		ldrh	r3, [r3]
 593:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 418              		.loc 1 593 0 discriminator 2
 419 007e C31A     		subs	r3, r0, r3
 420 0080 BB61     		str	r3, [r7, #24]
 595:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 596:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 597:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 421              		.loc 1 597 0 discriminator 2
 422 0082 2649     		ldr	r1, .L20+4
 423 0084 FA69     		ldr	r2, [r7, #28]
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 19


 424 0086 1346     		mov	r3, r2
 425 0088 5B00     		lsls	r3, r3, #1
 426 008a 1344     		add	r3, r3, r2
 427 008c 5B00     		lsls	r3, r3, #1
 428 008e 0B44     		add	r3, r3, r1
 429 0090 1B88     		ldrh	r3, [r3]
 430 0092 1846     		mov	r0, r3
 598:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 431              		.loc 1 598 0 discriminator 2
 432 0094 2149     		ldr	r1, .L20+4
 433 0096 FA69     		ldr	r2, [r7, #28]
 434 0098 1346     		mov	r3, r2
 435 009a 5B00     		lsls	r3, r3, #1
 436 009c 1344     		add	r3, r3, r2
 437 009e 5B00     		lsls	r3, r3, #1
 438 00a0 0B44     		add	r3, r3, r1
 439 00a2 0233     		adds	r3, r3, #2
 440 00a4 1B88     		ldrh	r3, [r3]
 597:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 441              		.loc 1 597 0 discriminator 2
 442 00a6 C118     		adds	r1, r0, r3
 599:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
 443              		.loc 1 599 0 discriminator 2
 444 00a8 1C48     		ldr	r0, .L20+4
 445 00aa FA69     		ldr	r2, [r7, #28]
 446 00ac 1346     		mov	r3, r2
 447 00ae 5B00     		lsls	r3, r3, #1
 448 00b0 1344     		add	r3, r3, r2
 449 00b2 5B00     		lsls	r3, r3, #1
 450 00b4 0344     		add	r3, r3, r0
 451 00b6 0433     		adds	r3, r3, #4
 452 00b8 1B88     		ldrh	r3, [r3]
 597:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 453              		.loc 1 597 0 discriminator 2
 454 00ba 0B44     		add	r3, r3, r1
 455 00bc 7B61     		str	r3, [r7, #20]
 600:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 456              		.loc 1 601 0 discriminator 2
 457 00be BB68     		ldr	r3, [r7, #8]
 458 00c0 BA69     		ldr	r2, [r7, #24]
 459 00c2 02FB03F2 		mul	r2, r2, r3
 460 00c6 7B69     		ldr	r3, [r7, #20]
 461 00c8 92FBF3F2 		sdiv	r2, r2, r3
 602:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 462              		.loc 1 602 0 discriminator 2
 463 00cc 1249     		ldr	r1, .L20
 464 00ce FB69     		ldr	r3, [r7, #28]
 465 00d0 0B44     		add	r3, r3, r1
 466 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 467 00d4 1946     		mov	r1, r3
 468 00d6 BB68     		ldr	r3, [r7, #8]
 469 00d8 03FB01F1 		mul	r1, r3, r1
 470 00dc 3B68     		ldr	r3, [r7]
 471 00de 0B44     		add	r3, r3, r1
 601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 472              		.loc 1 601 0 discriminator 2
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 20


 473 00e0 1344     		add	r3, r3, r2
 474 00e2 7B61     		str	r3, [r7, #20]
 603:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 604:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
 605:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         position[i] = CY_LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 475              		.loc 1 605 0 discriminator 2
 476 00e4 FB69     		ldr	r3, [r7, #28]
 477 00e6 5B00     		lsls	r3, r3, #1
 478 00e8 FA68     		ldr	r2, [r7, #12]
 479 00ea 1344     		add	r3, r3, r2
 480 00ec 7A69     		ldr	r2, [r7, #20]
 481 00ee 7F32     		adds	r2, r2, #127
 482 00f0 120A     		lsrs	r2, r2, #8
 483 00f2 92B2     		uxth	r2, r2
 484 00f4 1A80     		strh	r2, [r3]	@ movhi
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 485              		.loc 1 573 0 discriminator 2
 486 00f6 FB69     		ldr	r3, [r7, #28]
 487 00f8 0133     		adds	r3, r3, #1
 488 00fa FB61     		str	r3, [r7, #28]
 489              	.L15:
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 490              		.loc 1 573 0 is_stmt 0 discriminator 1
 491 00fc 084B     		ldr	r3, .L20+8
 492 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 493 0100 1A46     		mov	r2, r3
 494 0102 FB69     		ldr	r3, [r7, #28]
 495 0104 9A42     		cmp	r2, r3
 496 0106 85D8     		bhi	.L18
 606:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 607:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 497              		.loc 1 607 0 is_stmt 1
 498 0108 054B     		ldr	r3, .L20+8
 499 010a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 608:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 500              		.loc 1 608 0
 501 010c 1846     		mov	r0, r3
 502 010e 2437     		adds	r7, r7, #36
 503              		.cfi_def_cfa_offset 4
 504 0110 BD46     		mov	sp, r7
 505              		.cfi_def_cfa_register 13
 506              		@ sp needed
 507 0112 5DF8047B 		ldr	r7, [sp], #4
 508              		.cfi_restore 7
 509              		.cfi_def_cfa_offset 0
 510 0116 7047     		bx	lr
 511              	.L21:
 512              		.align	2
 513              	.L20:
 514 0118 00000000 		.word	localMax
 515 011c 04000000 		.word	localDiffArray
 516 0120 0A000000 		.word	localMaxIndex
 517              		.cfi_endproc
 518              	.LFE126:
 519              		.size	CapSense_DpCalcLinearCentroid, .-CapSense_DpCalcLinearCentroid
 520              		.section	.text.CapSense_InitPosFiltersSd,"ax",%progbits
 521              		.align	2
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 21


 522              		.global	CapSense_InitPosFiltersSd
 523              		.thumb
 524              		.thumb_func
 525              		.type	CapSense_InitPosFiltersSd, %function
 526              	CapSense_InitPosFiltersSd:
 527              	.LFB127:
 609:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 610:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****           (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN)) */
 611:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 612:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 613:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_RADIAL_SLIDERS
 614:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 615:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcRadialCentroid
 616:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 617:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 618:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 619:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position of the radial slider.
 620:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 621:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 622:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 623:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 624:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 625:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 626:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *position The pointer to the position array for temporary storage.
 627:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param multiplier The multiplier used for position calculation.
 628:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       Contains the widget resolution and total sensor information. It is generate
 629:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 630:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 631:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 632:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 633:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 634:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcRadialCentroid(uint16 position[], uint32 multiplier, uint32 snsCount)
 635:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 636:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 numerator;
 637:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 denominator;
 638:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 639:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 640:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 641:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 642:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 643:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 644:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 645:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 646:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 647:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 648:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 649:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
 650:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 651:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 652:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        ((int32)localMax[i] * (int32)multiplier);
 653:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 654:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (denominator < 0)
 655:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 656:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             denominator += ((int32)snsCount * (int32)multiplier);
 657:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 658:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 659:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 22


 660:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         position[i] = CY_LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 661:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 662:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 663:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 664:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_RADIAL_SLIDERS */
 665:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 666:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 667:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ( 0u != CapSense_CSX_TOUCHPAD_WIDGET_EN)
 668:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 669:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDd
 670:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 671:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 672:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 673:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds up to 5 local maxima in the CSX TouchPad difference data.
 674:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 675:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 676:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The column and row number of each maximum and total number of found maxima
 677:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  are stored in the structure pointed by ptr2CsxTouchpad in
 678:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  the Flash Widget Structure.
 679:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 680:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 681:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 682:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 683:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpFindLocalMaxDd(
 684:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 685:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 686:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 687:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 688:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 signalThreshold = (uint16)ptrWidgetRam->fingerTh - ptrWidgetRam->hysteresis;
 689:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 currDiff;
 690:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 rx;
 691:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 tx;
 692:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 snsShift;
 693:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 694:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 695:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 proceed = 0u;
 696:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 697:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Initialize new touches structure */
 698:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = 0u;
 699:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 700:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all Rx electrodes */
 701:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (rx = 0u; rx <= lastRx; rx++)
 702:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 703:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Go through all Tx and RX(changed above) electrodes intersections and check if local maxi
 704:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (tx = 0u; tx <= lastTx; tx++)
 705:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 706:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             proceed = 0u;
 707:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 708:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             currDiff = ptrSensor->diff;
 709:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 710:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (currDiff < signalThreshold)
 711:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 712:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 proceed = 1u;
 713:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 714:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 715:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 716:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the previous row */
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 23


 717:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx > 0u))
 718:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 719:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Sensor(i-1, j+1) */
 720:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 snsShift = lastTx;
 721:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 722:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff <= (ptrSensor - snsShift)->diff))
 723:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 724:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 725:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 726:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 727:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 728:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 729:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j) */
 730:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift++;
 731:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 732:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (currDiff <= (ptrSensor - snsShift)->diff)
 733:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 734:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 735:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 736:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 737:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 738:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 739:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 740:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j-1) */
 741:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift++;
 742:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 743:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff <= (ptrSensor - snsShift)->diff))
 744:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 745:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 746:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 747:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 748:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 749:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 750:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 751:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the next row */
 752:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx < lastRx))
 753:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 754:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Sensor(i+1, j+1) */
 755:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 snsShift = lastTx + 2u;
 756:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 757:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff < (ptrSensor + snsShift)->diff))
 758:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 759:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 760:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 761:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 762:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 763:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 764:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j) */
 765:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift--;
 766:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 767:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (currDiff < (ptrSensor + snsShift)->diff)
 768:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 769:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 770:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 771:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 772:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 773:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 24


 774:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 775:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j-1) */
 776:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift--;
 777:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 778:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff < (ptrSensor + snsShift)->diff))
 779:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 780:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 781:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 782:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 783:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 784:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 785:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 786:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the same row
 787:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Sensor(i, j+1) */
 788:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx < lastTx))
 789:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 790:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (currDiff < (ptrSensor + 1u)->diff)
 791:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 792:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 793:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 794:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 795:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 796:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Sensor(i, j-1) */
 797:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx > 0u))
 798:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 799:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (currDiff <= (ptrSensor - 1u)->diff)
 800:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 801:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 802:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 803:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 804:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 805:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Add local maximum to the touch structure if there is a room */
 806:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS))
 807:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 808:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].x = rx;
 809:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].y = tx;
 810:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 811:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = currDiff;
 812:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touchNum++;
 813:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 814:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 815:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrSensor++;
 816:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 817:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 818:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 819:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 820:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 821:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 822:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcTouchPadCentroid
 823:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 824:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 825:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 826:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position for each local maximum using the 3x3 algorithm.
 827:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 828:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 829:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Stores a result in the structure pointed by ptr2CsxTouchpad at the same
 830:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  fields as the column/row number.
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 25


 831:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 832:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 833:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 834:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 835:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpCalcTouchPadCentroid(
 836:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 837:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 838:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 839:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 number;
 840:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 i;
 841:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 j;
 842:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 843:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 844:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 centroid[3u][3u];
 845:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 weightedSumX;
 846:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 weightedSumY;
 847:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 totalSum;
 848:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 849:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for(number = 0u; number < ptrNewTouches->touchNum; number++)
 850:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 851:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the sensor pointer to the local maximum sensor */
 852:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 853:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrSensor += (ptrNewTouches->touch[number].y + (ptrNewTouches->touch[number].x * ptrFlashWd
 854:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 855:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare 3x3 centroid two dimensional array */
 856:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Fill each row */
 857:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
 858:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 859:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* The first  condition could be valid only when local max on the first row (0 row) of 
 860:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The second condition could be valid only when local max on the last row of Touchpad
 861:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Then corresponding row (zero or the last) of 3x3 array is initialized to 0u */
 862:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) < 0) ||
 863:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) > (int32)lastRx))
 864:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 865:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS][i] = 0u;
 866:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_CENTER][i] = 0u;
 867:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_NEXT][i] = 0u;
 868:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 869:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 870:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 871:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Fill each column */
 872:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 873:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 874:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* The first  condition could be valid only when local max on the first column 
 875:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * The second condition could be valid only when local max on the last column o
 876:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * Then corresponding column (zero or the last) of 3x3 array is initialized to 
 877:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) < 0) ||
 878:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) > (int32)lastTx))
 879:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 880:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         centroid[j][i] = 0u;
 881:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 882:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
 883:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 884:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         centroid[j][i] = (uint16)(ptrSensor + (((i - 1u) * ptrFlashWdgt->numRows) +
 885:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 886:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 887:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 26


 888:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 889:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 890:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumX = 0;
 891:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumY = 0;
 892:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         totalSum = 0u;
 893:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 894:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Calculate centroid */
 895:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
 896:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 897:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 898:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 899:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 totalSum += centroid[i][j];
 900:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 weightedSumX += (int32)centroid[i][j] * ((int32)j - 1);
 901:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 weightedSumY += (int32)centroid[i][j] * ((int32)i - 1);
 902:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 903:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 904:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 905:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The X position is calculated.
 906:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The weightedSumX value depends on a finger position shifted regarding the X electrode (pt
 907:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->xCentroidMultiplier is a short from:
 908:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_X_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_RX - CONFIG))
 909:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 910:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         */
 911:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumX = ((weightedSumX * (int32)ptrFlashWdgt->xCentroidMultiplier) / (int32)totalSum
 912:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].x * (int32)ptrFlashWdgt->xCentroidMult
 913:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 914:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 915:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             weightedSumX += (((int32)ptrFlashWdgt->xCentroidMultiplier) / 2);
 916:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
 917:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 918:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The X position is rounded to the nearest integer value and normalized to the resolution 
 919:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].x = CY_LO16(((uint32)weightedSumX + CapSense_CENTROID_ROUND_VA
 920:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 921:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The Y position is calculated.
 922:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The weightedSumY value depends on a finger position shifted regarding the Y electrode (pt
 923:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->yCentroidMultiplier is a short from:
 924:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_Y_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_TX - CONFIG))
 925:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 926:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         */
 927:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumY = ((weightedSumY * (int32)ptrFlashWdgt->yCentroidMultiplier) / (int32)totalSum
 928:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].y * (int32)ptrFlashWdgt->yCentroidMult
 929:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 930:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 931:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             weightedSumY += (((int32)ptrFlashWdgt->yCentroidMultiplier) / 2);
 932:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
 933:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 934:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The Y position is rounded to the nearest integer value and normalized to the resolution 
 935:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].y = CY_LO16(((uint32)weightedSumY + CapSense_CENTROID_ROUND_VA
 936:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 937:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The z value is a sum of raw counts of sensors that form 3x3 matrix with a local maximum 
 938:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].z = CY_LO8(totalSum >> CapSense_CSX_TOUCHPAD_Z_SHIFT);
 939:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 940:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 941:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 942:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 943:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 944:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpTouchTracking
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 27


 945:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 946:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 947:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 948:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Tracks the found touches:
 949:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - associates them with previous touches (DistanceMap, Hungarian)
 950:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - applies the position filters
 951:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - suppresses excessive touches
 952:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 953:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 954:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The final touch data is placed into a structure pointed by the ptr2CsxTouchpad
 955:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  member of the Flash Widget Structure.
 956:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 957:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 958:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 959:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 960:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpTouchTracking(
 961:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 962:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 963:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 964:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches = ptrFlashWdgt->ptr2CsxTouchpad;
 965:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap;
 966:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *fingerPosIndex;
 967:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static int8 touchPadBuffer[CapSense_CSX_TOUCHPAD_BUFFER_SIZE];
 968:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 969:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 newTouchNum = ptrNewTouches->touchNum;
 970:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 fingerOnThreshold = (uint16)ptrWidgetRam->fingerTh + ptrWidgetRam->hysteresis;
 971:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 972:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if ((0u != newTouchNum) || (0u != ptrOldTouches->touchNum))
 973:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 974:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Initialize variables */
 975:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         newActiveIDs = 0u;
 976:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Getting active touch IDs from previous scan */
 977:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         oldActiveIDs = 0u;
 978:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
 979:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 980:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             oldActiveIDs |= (uint8)(1u << ptrOldTouches->touch[i].id);
 981:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 982:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 983:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set up the fingerPosIndex to the head of scratch buffer. It will be used to hold associa
 984:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         fingerPosIndex = touchPadBuffer;
 985:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 986:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* This is a int32 matrix sized MAX_LOCAL_PEAKS x MAX_LOCAL_PEAKS. Make sure its start addr
 987:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         distanceMap = (CapSense_CSX_TOUCHPAD_DISTANCE_MAP *)
 988:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((uint32)touchPadBuffer + (CapSense_CSX_MAX_LOCAL_PEAKS + CapSense_CSX_TOUCH
 989:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         (uint32)~CapSense_CSX_TOUCHPAD_PADDING);
 990:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 991:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u < newTouchNum)
 992:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 993:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (i = CapSense_CSX_MAX_LOCAL_PEAKS; i-- > 0u;)
 994:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 995:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Set all new touches structure array members as not assigned */
 996:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
 997:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 998:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 999:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (0u == ptrOldTouches->touchNum)
1000:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1001:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If the previous touch tracking had not any touches. */
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 28


1002:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (i = 0u; i < newTouchNum; i++)
1003:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1004:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Initializes a new touch, set ID to next value and Age to 0. */
1005:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1006:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1007:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1008:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
1009:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1010:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* General case */
1011:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (newTouchNum >= ptrOldTouches->touchNum)
1012:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1013:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((1u == newTouchNum) && (1u == ptrOldTouches->touchNum))
1014:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1015:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Don't call Hungarian for 1 current and 1 previous touch. */
1016:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         fingerPosIndex[0u] = 0;
1017:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1018:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
1019:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1020:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Calculating and filling Distance Map array. */
1021:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1022:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1023:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Call Hungarian method procedure. */
1024:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_Hungarian(newTouchNum, ptrOldTouches->touchNum, fingerPosIndex, di
1025:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1026:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1027:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for (i = 0u; i < ptrOldTouches->touchNum; i++)
1028:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1029:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1030:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance((uint32)fingerPosIndex[i], i, ptrOldTouches))
1031:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1032:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1033:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_NewTouch((uint32)fingerPosIndex[i], ptrWidgetRam->onDebounce, 
1034:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1035:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         else
1036:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1037:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1038:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1039:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)fingerPosIndex[i], i, ptrOldTouches);
1040:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1041:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1042:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1043:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Added new fingers, they need to assign ID. */
1044:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (newTouchNum > ptrOldTouches->touchNum)
1045:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1046:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Search new fingers. */
1047:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         for (i = 0u; i < newTouchNum; i++)
1048:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1049:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* New finger found. */
1050:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (ptrNewTouches->touch[i].id == CapSense_CSX_TOUCHPAD_UNDEFINED)
1051:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
1052:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1053:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
1054:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1055:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1056:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1057:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1058:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 29


1059:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* newTouchNum is less than ptrOldTouches->touchNum */
1060:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1061:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Calculating and filling Distance Map array. */
1062:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1063:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1064:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Call Hungarian method procedure. */
1065:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_Hungarian(ptrOldTouches->touchNum, newTouchNum, fingerPosIndex, distan
1066:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1067:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for (i = 0u; i < newTouchNum; i++)
1068:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1069:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1070:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance(i, (uint32)fingerPosIndex[i], ptrOldTouches))
1071:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1072:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1073:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1074:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1075:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         else
1076:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1077:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1078:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1079:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch(i, (uint32)fingerPosIndex[i], ptrOldTouches);
1080:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1081:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1082:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1083:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1084:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1085:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_TouchDownDebounce();
1086:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1087:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1088:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if CapSense_OFF_DEBOUNCE_EN
1089:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_LiftOffDebounce(ptrWidgetRam->offDebounce, ptrOldTouches);
1090:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
1091:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1092:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrNewTouches->touchNum >= 1u) || (ptrOldTouches->touchNum != 0u))
1093:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1094:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_SortByAge();
1095:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1096:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1097:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store new touches as old touches */
1098:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u;)
1099:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1100:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_CopyTouchRecord(&ptrOldTouches->touch[i], &ptrNewTouches->touch[i]);
1101:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1102:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1103:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrOldTouches->touchNum = ptrNewTouches->touchNum;
1104:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1105:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Save ID allocation masks for usage in the next iteration. */
1106:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         oldActiveIDs = newActiveIDs;
1107:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1108:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****  }
1109:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1110:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1111:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1112:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_TransferTouch
1113:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1114:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1115:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 30


1116:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1117:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1118:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1119:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1120:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1121:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1122:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1123:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
1124:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param oldIndex The touch index of touch array in the old touches structure.
1125:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1126:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1127:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1128:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_TransferTouch(
1129:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA_STRUCT *pt
1130:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1131:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].id = ptrOldTouches->touch[oldIndex].id;
1132:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1133:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].age = ptrOldTouches->touch[oldIndex].age + 1u;
1134:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1135:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Decrement debounce counter if the touch in touch down ot lift off stage (debounce counter > 
1136:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (0u != (ptrOldTouches->touch[oldIndex].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK))
1137:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1138:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce - 1u;
1139:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1140:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1141:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1142:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce;
1143:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1144:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1145:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1146:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1147:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1148:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_NewTouch
1149:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1150:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1151:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1152:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Set ID, age and on debounce parameters for a new touch.
1153:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1154:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1155:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Raw count of a local maximum has to be higher than fingerOnThreshold threshold
1156:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   so the new touch is accepted. If raw count is lower than the fingerOnThreshold
1157:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   than corresponding touch is marked with CapSense_CSX_TOUCHPAD_FT_ON_FAIL
1158:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   ID and will be deleted from new touches structure in CapSense_SortByAge()
1159:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (new touches structure is reorganized in this case).
1160:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1161:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
1162:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param onDebounce Counter value for touch down procedure.
1163:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerOnThreshold The finger ON threshold (finger threshold + hysteresis)
1164:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1165:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1166:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold)
1167:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1168:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 idx;
1169:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1170:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Touch is not accepted */
1171:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touch[newIndex].rawCount < fingerOnThreshold)
1172:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 31


1173:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = CapSense_CSX_TOUCHPAD_FT_ON_FAIL;
1174:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1175:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1176:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1177:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Create a bit map of ID's currently used and previously used and search for the new lowes
1178:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         idx = CapSense_GetLowestId(((uint16)oldActiveIDs | (uint16)newActiveIDs));
1179:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1180:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Indicate that ID is now taken */
1181:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         newActiveIDs |= (uint8)(1u << idx);
1182:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1183:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the ID */
1184:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = CY_LO8(idx);
1185:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1186:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the age */
1187:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].age = 1u;
1188:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1189:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* New Finger goes through touchdown debounce procedure if required */
1190:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = onDebounce | CapSense_CSX_TOUCHPAD_TOUCH_DOWN;
1191:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1192:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1193:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1194:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1195:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1196:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_GetLowestId
1197:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1198:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1199:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1200:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1201:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1202:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1203:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1204:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1205:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param idMask The mask of IDs used in new and old touches.
1206:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1207:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return   Returns the lowest available touch ID. If no ID was available,
1208:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *           CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID is returned.
1209:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1210:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1211:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE uint8 CapSense_GetLowestId(uint16 idMask)
1212:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1213:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 idx;
1214:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 touchId = CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID;
1215:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1216:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Search for the lowest available ID. */
1217:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     idMask >>= CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID;
1218:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1219:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (idx = CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID; idx <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID; idx++
1220:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1221:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Determine if the new ID is available. */
1222:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u == (idMask & 1u))
1223:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1224:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             touchId = idx;
1225:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             break;
1226:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1227:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1228:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         idMask >>= 1u;
1229:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 32


1230:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1231:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Return an indicator of failure. */
1232:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint8)(touchId);
1233:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1234:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1235:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1236:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1237:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_TouchDownDebounce
1238:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1239:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1240:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1241:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Handles touch down de-bouncing.
1242:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1243:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1244:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Even if a new touch is detected it is not considered as active until
1245:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   on debounce counter has not reached zero. If on debounce counter has reached zero
1246:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   the touch down mask is cleared. Otherwise the age of the new finger is cleared
1247:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (it is considered as not active)
1248:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1249:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1250:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_TouchDownDebounce(void)
1251:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1252:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1253:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1254:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < ptrNewTouches->touchNum; i++)
1255:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1256:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* If it is a touchdown debouncing finger its age is set to zero */
1257:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u != (ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN))
1258:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1259:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK) <= 1u)
1260:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1261:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If debounce counter reached zero than touch down stage
1262:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  * is finished and corresponding mask is cleared
1263:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  */
1264:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].debounce &=
1265:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (uint8)~(CapSense_CSX_TOUCHPAD_TOUCH_DOWN | CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK
1266:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1267:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
1268:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1269:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Set the age to zero - finger is not active */
1270:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].age = 0u;
1271:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1272:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1273:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1274:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1275:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1276:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1277:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u != CapSense_OFF_DEBOUNCE_EN)
1278:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1279:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_LiftOffDebounce
1280:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1281:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1282:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1283:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Handles lift off de-bouncing.
1284:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1285:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1286:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Even if a touch is not present in new touches, but present in old
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 33


1287:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   touches this means it is lift off event. This touch is considered as active and
1288:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   is added to new touches structure until the offDebounce counter reaches zero.
1289:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The offDebounce counter is set when lift off event is detected and is decremented
1290:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   each time the CapSense_LiftOffDebounce() API is called.
1291:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1292:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param offDebounce   The off debounce counter value.
1293:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1294:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1295:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1296:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_LiftOffDebounce(uint8 offDebounce,
1297:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTou
1298:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1299:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1300:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 liftOffMask = (uint8)(~newActiveIDs) & oldActiveIDs;
1301:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1302:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if(liftOffMask != 0u)
1303:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1304:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
1305:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1306:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /*
1307:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The old touch is not found in the new touches.
1308:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Lift off procedure starts and the old touch is copied to the new touches if there is
1309:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              */
1310:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1311:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (((uint8)(0x01u << ptrOldTouches->touch[i].id) & liftOffMask) != 0u)
1312:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1313:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If there is a room in new touches structure and the old touch is not under touch
1314:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS) &&
1315:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (0u == (ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN)))
1316:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1317:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Lift off debouncing starts if there is not lift off mask in the old touch */
1318:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_LIFT_OFF) == 0u)
1319:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1320:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrOldTouches->touch[i].debounce = offDebounce | CapSense_CSX_TOUCHPAD_LIFT
1321:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1322:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Copy the old finger data to the new one using TransferTouch API to manag
1323:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouches);
1324:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[i].x
1325:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[i].y
1326:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[i].z
1327:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches->tou
1328:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touchNum++;
1329:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1330:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
1331:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1332:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Check whether debounce counter is reached zero if there is a lift off ma
1333:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK)
1334:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        {
1335:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Clear lift off mask if debounce counter has reached zero */
1336:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrOldTouches->touch[i].debounce &= (uint8)~CapSense_CSX_TOUCHPAD_LIFT_
1337:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        }
1338:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        else
1339:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        {
1340:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Copy the old finger data to the new one using TransferTouch API to m
1341:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouche
1342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[
1343:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 34


1344:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[
1345:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches-
1346:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touchNum++;
1347:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        }
1348:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1349:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1350:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1351:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1352:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1353:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1354:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
1355:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1356:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1357:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_CalcDistance
1358:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1359:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1360:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1361:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1362:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   parameters.
1363:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1364:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1365:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1366:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   parameters.
1367:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1368:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex      The index of touch in the new touches structure.
1369:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param oldIndex      The index of touch in the old touches structure.
1370:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1371:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1372:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the squared distance.
1373:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1374:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1375:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex,
1376:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                       CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouc
1377:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1378:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 result;
1379:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 xDistance = (int32)(ptrOldTouches->touch[oldIndex].x) - (int32)(ptrNewTouches->touch[newI
1380:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 yDistance = (int32)(ptrOldTouches->touch[oldIndex].y) - (int32)(ptrNewTouches->touch[newI
1381:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1382:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     result = ((xDistance * xDistance) + (yDistance *yDistance));
1383:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)result;
1384:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1385:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1386:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1387:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1388:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_FillDistanceMap
1389:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1390:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1391:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1392:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Populates the distance map used for the Hungarian method with distance
1393:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   squared values.
1394:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1395:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1396:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Distance squared is used instead of distance to eliminate square root
1397:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   calculation, which requires a lot of execution time.
1398:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1399:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param distanceMap   The pointer to a 2-dimensional array of int32's
1400:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          with dimensions CapSense_CSX_MAX_LOCAL_PEAKS x
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 35


1401:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          CapSense_CSX_MAX_LOCAL_PEAKS
1402:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1403:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1404:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return The contents of distanceMap[][] are modified.
1405:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1406:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1407:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
1408:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                              CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches)
1409:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1410:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1411:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 j;
1412:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1413:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touchNum >= ptrOldTouches->touchNum)
1414:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1415:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u; )
1416:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1417:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = ptrOldTouches->touchNum; j-- > 0u; )
1418:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1419:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(i, j, ptrOldTouches);
1420:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1421:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1422:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1423:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1424:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1425:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrOldTouches->touchNum; i-- > 0u;)
1426:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1427:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = ptrNewTouches->touchNum; j-- > 0u;)
1428:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1429:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(j, i, ptrOldTouches);
1430:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1431:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1432:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1433:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1434:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1435:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1436:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1437:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_Hungarian
1438:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1439:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1440:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1441:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Executes the Hungarian Method on a distance map to track motion of two touch sets
1442:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (old touches vs new touches)
1443:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1444:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1445:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This function uses the Hungarian method described in specification 001-63362.
1446:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   There is no bounds checking on the parameters. It is the calling function's
1447:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   responsibility to ensure parameter validity.
1448:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1449:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param rowCount       Number of elements in row of distanceMap matrix. This value must be
1450:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       greater than or equal to colCount.
1451:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param colCount       Number of elements in column of distanceMap matrix.This value must
1452:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       be greater than or equal to 1.
1453:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerPosIndex The pointer to an array where associations between the
1454:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                             previous and current touches are returned.
1455:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param distanceMap    The 2-dimensional map of distances between the nodes in each
1456:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          coordinate set. The 1st index of distanceMap corresponds to nodes
1457:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          in the 1st coordinate data set, and the 2nd index of distanceMap
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 36


1458:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          corresponds to the 2nd coordinate data set. Each element in
1459:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          distanceMap is the square of the distance between the
1460:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          corresponding coordinates in the 1st and 2nd data set.
1461:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1462:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1463:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns fingerPosIndex, the associations between the 1st and 2nd coordinate set are
1464:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          returned in the array referenced by this pointer. It is indexed
1465:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          by the 2nd coordinate set, and its elements are the corresponding
1466:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          index in the 1st coordinate set.
1467:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1468:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1469:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
1470:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                              CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap)
1471:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1472:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 col[CapSense_CSX_MAX_LOCAL_PEAKS];
1473:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 row[CapSense_CSX_MAX_LOCAL_PEAKS];
1474:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 *mins;
1475:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 delta;
1476:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1477:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *links;
1478:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *visited;
1479:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *markIndices;
1480:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1481:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 colValue = 0;
1482:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 markedI = 0;
1483:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 markedJ = 0;
1484:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 i = 0;
1485:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 i1 = 0;
1486:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 j = 0;
1487:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 j1 = 0;
1488:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1489:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     mins = (int32 *)(distanceMap + CapSense_CSX_MAX_LOCAL_PEAKS);
1490:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     links = (int8 *)(mins + CapSense_CSX_MAX_LOCAL_PEAKS);
1491:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     visited = links + CapSense_CSX_MAX_LOCAL_PEAKS;
1492:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     markIndices = visited + CapSense_CSX_MAX_LOCAL_PEAKS;
1493:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1494:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     (void)memset(col, 0, (uint32)colCount * 4u);
1495:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1496:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Initialize row and markIndices arrays */
1497:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i1 = (int32)rowCount; i1-- > 0;)
1498:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1499:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         row[i1] = 0;
1500:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markIndices[i1] = -1;
1501:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1502:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1503:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all columns */
1504:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = (int32)colCount; i-- > 0;)
1505:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1506:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Initialize visited, links, mins arrays. They used for every column */
1507:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i1 = (int32)rowCount; i1-- > 0;)
1508:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1509:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             visited[i1] = 0;
1510:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             links[i1] = -1;
1511:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             mins[i1] = (int32)CapSense_CSX_TOUCHPAD_INT32;
1512:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1513:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1514:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Next two variables are used to mark column and row */
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 37


1515:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markedI = i;
1516:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markedJ = -1;
1517:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1518:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         while (markedI != -1)
1519:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1520:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             j = -1;
1521:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             colValue = col[markedI];
1522:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1523:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Go through all rows */
1524:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1525:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1526:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (visited[j1] == 0)
1527:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1528:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     delta = distanceMap[j1][markedI] - row[j1] - colValue;
1529:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1530:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Find the minimum element index in column i */
1531:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (mins[j1] > delta)
1532:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1533:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         mins[j1] = delta;
1534:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         links[j1] = (int8)markedJ;
1535:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1536:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1537:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((j == -1) || (mins[j1] < mins[j]))
1538:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1539:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         j = j1;
1540:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1541:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1542:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1543:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1544:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             delta = mins[j];
1545:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1546:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Go through all row */
1547:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1548:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1549:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (visited[j1] != 0)
1550:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1551:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     col[markIndices[j1]] += delta;
1552:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     row[j1] -= delta;
1553:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1554:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1555:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1556:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     mins[j1] -= delta;
1557:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1558:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1559:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1560:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             col[i] +=  delta;
1561:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1562:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             visited[j] = 1;
1563:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markedJ = j;
1564:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markedI = markIndices[j];
1565:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1566:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1567:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         while (links[j] != -1)
1568:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1569:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markIndices[j] = markIndices[links[j]];
1570:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             j = links[j];
1571:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 38


1572:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markIndices[j] = (int8)i;
1574:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1575:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1576:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Provide an association between two sets of touches */
1577:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (j = (int32)rowCount; j-- > 0;)
1578:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1579:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (markIndices[j] != -1)
1580:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1581:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             fingerPosIndex[markIndices[j]] = (int8)j;
1582:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1583:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1584:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1585:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1586:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1587:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1588:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_SortByAge
1589:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1590:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1591:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1592:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1593:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1594:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1595:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1596:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1597:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1598:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_SortByAge(void)
1599:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1600:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 j;
1602:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_PEAK_STRUCT tempTouch;
1603:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 newTouchNum = ptrNewTouches->touchNum;
1604:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1605:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /*
1606:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      * Delete failed touch by coping(rewriting) the last touch content to the failed touch.
1607:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      * If the last touch record is invalid try the penult touch record and so on.
1608:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      */
1609:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1610:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1611:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1612:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (ptrNewTouches->touch[i].id > CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1613:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1614:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = (newTouchNum - 1u); j > i; j--)
1615:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1616:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Check the touch records from the last to the current.
1617:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  * If the touch record is valid then replace the current touch record
1618:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  */
1619:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (ptrNewTouches->touch[j].id <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1620:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1621:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1622:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1623:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Finish the loop. The valid touch record is found and copied down */
1624:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     break;
1625:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1626:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1627:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1628:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Decrement the number of touch records.
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 39


1629:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * The last touch record is invalid - try the penult touch record
1630:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      */
1631:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     newTouchNum--;
1632:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1633:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1634:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1635:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Decrement the number of touch records.
1636:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The last touch record is valid and copied to the current position (i)
1637:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              */
1638:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             newTouchNum--;
1639:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1640:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1641:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1642:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Set new number of touches */
1643:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = (uint8)newTouchNum;
1644:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1645:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Sort new touches structure */
1646:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1647:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1648:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (j = (i + 1u); j < newTouchNum; j++)
1649:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1650:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* if next touches have higher age or lower id with the same age then swap touches */
1651:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].age < ptrNewTouches->touch[j].age)      ||
1652:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ((ptrNewTouches->touch[i].age == ptrNewTouches->touch[j].age) &&
1653:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  (ptrNewTouches->touch[i].id > ptrNewTouches->touch[j].id)))
1654:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1655:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Swap touches */
1656:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&tempTouch, &ptrNewTouches->touch[i]);
1657:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1658:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[j], &tempTouch);
1659:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1660:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1661:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1662:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1663:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1664:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1665:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1666:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_CopyTouchRecord
1667:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1668:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1669:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1670:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1671:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1672:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1673:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1674:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1675:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *destination The pointer to the destination touch structure.
1676:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *source      The pointer to the source touch structure.
1677:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1678:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1679:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
1680:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_PEAK_STRUCT *source)
1681:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1682:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->x        =  source->x;
1683:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->y        =  source->y;
1684:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->z        =  source->z;
1685:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->rawCount =  source->rawCount;
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 40


1686:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->id       =  source->id;
1687:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->age      =  source->age;
1688:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->debounce =  source->debounce;
1689:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1690:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1691:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1692:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1693:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFilterTouchRecord
1694:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1695:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1696:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1697:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Filter position data of every valid touch, if there is a room in RAM Widget Data Structure
1698:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and update corresponding fields in RAM Widget Data Structure
1699:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1700:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1701:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  This API checks every touch in the new touches structure if it is valid until there is a room
1702:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  in the RAM Widget Data Structure (where touch reports are stored). If touch is valid
1703:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  (valid id and age > 0) then touch is filtered if filter is enabled. At the end the
1704:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  corresponding fields are updated in the RAM Widget Data Structure.
1705:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1706:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
1707:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1708:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return The number of reported touches to the RAM Data Structure.
1709:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1710:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1711:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFilterTouchRecord(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
1712:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1713:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1714:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 reportedTouchNum = 0u;
1715:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
1716:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1717:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1718:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint32 oldIdMask = 0u;
1719:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint32 j;
1720:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint16 filteredX;
1721:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint16 filteredY;
1722:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_TOUCHPAD_POS_HISTORY_STRUCT *ptrHistory;
1723:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1724:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1725:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1726:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1727:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrHistory = ptrFlashWdgt->ptr2PosHistory;
1728:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Find what Ids were active in the previous report */
1729:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1730:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1731:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             oldIdMask |= 0x01Lu << ptrWidgetRam->touch[i].id;
1732:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1733:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1734:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1735:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all touch fields in RAM Data Structure */
1736:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1737:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1738:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Check if touch is valid to be reported: age has to be higher than 0. Id has been checked
1739:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((i < ptrNewTouches->touchNum) && (ptrNewTouches->touch[i].age > 0u))
1740:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1741:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #if (0u == CapSense_POSITION_FILTER_EN)
1742:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Report touch to the RAM Data Structure if position filter is disabled in general
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 41


1743:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1744:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1745:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1746:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1747:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #else
1748:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1749:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 filteredX = ptrNewTouches->touch[i].x;
1750:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 filteredY = ptrNewTouches->touch[i].y;
1751:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1752:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Initialize position and filter history if the touch has the id that was absent i
1753:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == (oldIdMask & (1Lu << ptrNewTouches->touch[i].id)))
1754:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1755:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1756:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1757:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1758:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1759:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (NULL != ptrHistory)
1760:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1761:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_InitPosFiltersDd(&ptrHistory[i], filteredX, filteredY);
1762:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1763:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1764:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Find corresponding position history of the new touch (by id) in the RAW Widget D
1765:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1766:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1767:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /*
1768:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Index <i> addresses new touch array and final reported in data structure arra
1769:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Index <j> addresses filter history and previously reported in data structure 
1770:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     *
1771:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * If new touch appears, then it is always added at the and of arrays, therefore
1772:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * is safe to overwrite history with new touch.
1773:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Another case is moving touch from its previous reported index to new index.
1774:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * This new index is always lower, so filter history of touch (i-1) was already 
1775:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * and processed for touch (i-1). Therefore, again, it is safely to copy filter 
1776:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * from j to i.
1777:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     */
1778:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for(j = 0u; j < CapSense_CSX_MAX_FINGERS; j++)
1779:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1780:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if(ptrNewTouches->touch[i].id == ptrWidgetRam->touch[j].id)
1781:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1782:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_RunPosFiltersDd(ptrFlashWdgt, i, j, &filteredX, &filteredY);
1783:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1784:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].x = filteredX;
1785:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].y = filteredY;
1786:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1787:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1788:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1789:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1790:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1791:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #endif
1792:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             reportedTouchNum++;
1793:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1794:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
1795:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1796:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].x = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1797:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].y = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1798:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].z = CY_LO8(CapSense_CSX_TOUCHPAD_POSITION_NONE);
1799:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 42


1800:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1801:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #if (0u != CapSense_POSITION_FILTER_EN)
1802:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (NULL != ptrHistory)
1803:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1804:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Initialize history for non-valid touches */
1805:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_InitPosFiltersDd(&ptrHistory[i], CapSense_CSX_TOUCHPAD_POSITION_NONE, 
1806:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1807:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1808:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1809:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1810:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return reportedTouchNum;
1811:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1812:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1813:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_CSX_TOUCHPAD_WIDGET_EN */
1814:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1815:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1816:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u != CapSense_POSITION_FILTER_EN)
1817:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1818:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_InitPosFiltersSd
1819:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1820:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1821:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1822:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1823:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1824:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1825:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1826:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1827:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrHistory
1828:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The pointer to the structure that holds previous historical position value.
1829:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1830:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param value
1831:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The desired value to initialize position filters history.
1832:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1833:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1834:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_InitPosFiltersSd(CapSense_SLIDER_POS_HISTORY_STRUCT *ptrHistory, uint16 value)
1835:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 528              		.loc 1 1835 0
 529              		.cfi_startproc
 530              		@ args = 0, pretend = 0, frame = 8
 531              		@ frame_needed = 1, uses_anonymous_args = 0
 532              		@ link register save eliminated.
 533 0000 80B4     		push	{r7}
 534              		.cfi_def_cfa_offset 4
 535              		.cfi_offset 7, -4
 536 0002 83B0     		sub	sp, sp, #12
 537              		.cfi_def_cfa_offset 16
 538 0004 00AF     		add	r7, sp, #0
 539              		.cfi_def_cfa_register 7
 540 0006 7860     		str	r0, [r7, #4]
 541 0008 0B46     		mov	r3, r1
 542 000a 7B80     		strh	r3, [r7, #2]	@ movhi
1836:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (NULL != ptrHistory)
 543              		.loc 1 1836 0
 544 000c 7B68     		ldr	r3, [r7, #4]
 545 000e 002B     		cmp	r3, #0
 546 0010 02D0     		beq	.L24
1837:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 43


1838:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_MEDIAN_FILTER_EN)
1839:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ1 = value;
1840:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ2 = value;
1841:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_MEDIAN_FILTER_EN) */
1842:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1843:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_IIR_FILTER_EN)
1844:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posIIR = value;
1845:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_IIR_FILTER_EN) */
1846:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1847:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN)
1848:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posAIIR = value;
1849:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN) */
1850:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1851:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_AVERAGE_FILTER_EN)
1852:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posAverage = value;
 547              		.loc 1 1852 0
 548 0012 7B68     		ldr	r3, [r7, #4]
 549 0014 7A88     		ldrh	r2, [r7, #2]	@ movhi
 550 0016 1A80     		strh	r2, [r3]	@ movhi
 551              	.L24:
1853:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_AVERAGE_FILTER_EN) */
1854:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1855:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_JITTER_FILTER_EN)
1856:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posJitter = value;
1857:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_JITTER_FILTER_EN) */
1858:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1859:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 552              		.loc 1 1859 0
 553 0018 00BF     		nop
 554 001a 0C37     		adds	r7, r7, #12
 555              		.cfi_def_cfa_offset 4
 556 001c BD46     		mov	sp, r7
 557              		.cfi_def_cfa_register 13
 558              		@ sp needed
 559 001e 5DF8047B 		ldr	r7, [sp], #4
 560              		.cfi_restore 7
 561              		.cfi_def_cfa_offset 0
 562 0022 7047     		bx	lr
 563              		.cfi_endproc
 564              	.LFE127:
 565              		.size	CapSense_InitPosFiltersSd, .-CapSense_InitPosFiltersSd
 566              		.text
 567              	.Letext0:
 568              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 569              		.file 3 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 570              		.file 4 "Generated_Source\\PSoC6\\pdl\\drivers/peripheral/syslib/cy_syslib.h"
 571              		.file 5 "Generated_Source\\PSoC6\\CapSense_Configuration.h"
 572              		.file 6 "Generated_Source\\PSoC6\\CapSense_Structure.h"
 573              		.file 7 "Generated_Source\\PSoC6\\pdl\\cmsis/include/core_cm4.h"
 574              		.section	.debug_info,"",%progbits
 575              	.Ldebug_info0:
 576 0000 85030000 		.4byte	0x385
 577 0004 0400     		.2byte	0x4
 578 0006 00000000 		.4byte	.Ldebug_abbrev0
 579 000a 04       		.byte	0x4
 580 000b 01       		.uleb128 0x1
 581 000c CA000000 		.4byte	.LASF54
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 44


 582 0010 0C       		.byte	0xc
 583 0011 11030000 		.4byte	.LASF55
 584 0015 08020000 		.4byte	.LASF56
 585 0019 00000000 		.4byte	.Ldebug_ranges0+0
 586 001d 00000000 		.4byte	0
 587 0021 00000000 		.4byte	.Ldebug_line0
 588 0025 02       		.uleb128 0x2
 589 0026 04       		.byte	0x4
 590 0027 05       		.byte	0x5
 591 0028 696E7400 		.ascii	"int\000"
 592 002c 03       		.uleb128 0x3
 593 002d 04       		.byte	0x4
 594 002e 07       		.byte	0x7
 595 002f EF010000 		.4byte	.LASF0
 596 0033 03       		.uleb128 0x3
 597 0034 08       		.byte	0x8
 598 0035 05       		.byte	0x5
 599 0036 DB020000 		.4byte	.LASF1
 600 003a 03       		.uleb128 0x3
 601 003b 08       		.byte	0x8
 602 003c 04       		.byte	0x4
 603 003d 9A030000 		.4byte	.LASF2
 604 0041 03       		.uleb128 0x3
 605 0042 01       		.byte	0x1
 606 0043 06       		.byte	0x6
 607 0044 93000000 		.4byte	.LASF3
 608 0048 04       		.uleb128 0x4
 609 0049 18000000 		.4byte	.LASF6
 610 004d 02       		.byte	0x2
 611 004e 1D       		.byte	0x1d
 612 004f 53000000 		.4byte	0x53
 613 0053 03       		.uleb128 0x3
 614 0054 01       		.byte	0x1
 615 0055 08       		.byte	0x8
 616 0056 9F000000 		.4byte	.LASF4
 617 005a 03       		.uleb128 0x3
 618 005b 02       		.byte	0x2
 619 005c 05       		.byte	0x5
 620 005d 5B030000 		.4byte	.LASF5
 621 0061 04       		.uleb128 0x4
 622 0062 95010000 		.4byte	.LASF7
 623 0066 02       		.byte	0x2
 624 0067 2B       		.byte	0x2b
 625 0068 6C000000 		.4byte	0x6c
 626 006c 03       		.uleb128 0x3
 627 006d 02       		.byte	0x2
 628 006e 07       		.byte	0x7
 629 006f 46000000 		.4byte	.LASF8
 630 0073 04       		.uleb128 0x4
 631 0074 33000000 		.4byte	.LASF9
 632 0078 02       		.byte	0x2
 633 0079 3F       		.byte	0x3f
 634 007a 7E000000 		.4byte	0x7e
 635 007e 03       		.uleb128 0x3
 636 007f 04       		.byte	0x4
 637 0080 05       		.byte	0x5
 638 0081 81030000 		.4byte	.LASF10
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 45


 639 0085 04       		.uleb128 0x4
 640 0086 AF010000 		.4byte	.LASF11
 641 008a 02       		.byte	0x2
 642 008b 41       		.byte	0x41
 643 008c 90000000 		.4byte	0x90
 644 0090 03       		.uleb128 0x3
 645 0091 04       		.byte	0x4
 646 0092 07       		.byte	0x7
 647 0093 AD000000 		.4byte	.LASF12
 648 0097 03       		.uleb128 0x3
 649 0098 08       		.byte	0x8
 650 0099 07       		.byte	0x7
 651 009a A2020000 		.4byte	.LASF13
 652 009e 03       		.uleb128 0x3
 653 009f 04       		.byte	0x4
 654 00a0 07       		.byte	0x7
 655 00a1 CD020000 		.4byte	.LASF14
 656 00a5 03       		.uleb128 0x3
 657 00a6 01       		.byte	0x1
 658 00a7 08       		.byte	0x8
 659 00a8 8A030000 		.4byte	.LASF15
 660 00ac 04       		.uleb128 0x4
 661 00ad 68020000 		.4byte	.LASF16
 662 00b1 03       		.byte	0x3
 663 00b2 18       		.byte	0x18
 664 00b3 48000000 		.4byte	0x48
 665 00b7 04       		.uleb128 0x4
 666 00b8 65030000 		.4byte	.LASF17
 667 00bc 03       		.byte	0x3
 668 00bd 24       		.byte	0x24
 669 00be 61000000 		.4byte	0x61
 670 00c2 04       		.uleb128 0x4
 671 00c3 7C000000 		.4byte	.LASF18
 672 00c7 03       		.byte	0x3
 673 00c8 2C       		.byte	0x2c
 674 00c9 73000000 		.4byte	0x73
 675 00cd 04       		.uleb128 0x4
 676 00ce 78030000 		.4byte	.LASF19
 677 00d2 03       		.byte	0x3
 678 00d3 30       		.byte	0x30
 679 00d4 85000000 		.4byte	0x85
 680 00d8 03       		.uleb128 0x3
 681 00d9 04       		.byte	0x4
 682 00da 04       		.byte	0x4
 683 00db 8D000000 		.4byte	.LASF20
 684 00df 03       		.uleb128 0x3
 685 00e0 08       		.byte	0x8
 686 00e1 04       		.byte	0x4
 687 00e2 A0010000 		.4byte	.LASF21
 688 00e6 05       		.uleb128 0x5
 689 00e7 C4000000 		.4byte	.LASF22
 690 00eb 04       		.byte	0x4
 691 00ec 8503     		.2byte	0x385
 692 00ee AC000000 		.4byte	0xac
 693 00f2 05       		.uleb128 0x5
 694 00f3 BA010000 		.4byte	.LASF23
 695 00f7 04       		.byte	0x4
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 46


 696 00f8 8603     		.2byte	0x386
 697 00fa B7000000 		.4byte	0xb7
 698 00fe 05       		.uleb128 0x5
 699 00ff E8010000 		.4byte	.LASF24
 700 0103 04       		.byte	0x4
 701 0104 8703     		.2byte	0x387
 702 0106 CD000000 		.4byte	0xcd
 703 010a 05       		.uleb128 0x5
 704 010b C7020000 		.4byte	.LASF25
 705 010f 04       		.byte	0x4
 706 0110 8A03     		.2byte	0x38a
 707 0112 C2000000 		.4byte	0xc2
 708 0116 04       		.uleb128 0x4
 709 0117 00000000 		.4byte	.LASF26
 710 011b 05       		.byte	0x5
 711 011c F2       		.byte	0xf2
 712 011d F2000000 		.4byte	0xf2
 713 0121 04       		.uleb128 0x4
 714 0122 CE030000 		.4byte	.LASF27
 715 0126 05       		.byte	0x5
 716 0127 F6       		.byte	0xf6
 717 0128 E6000000 		.4byte	0xe6
 718 012c 06       		.uleb128 0x6
 719 012d 04       		.byte	0x4
 720 012e F2000000 		.4byte	0xf2
 721 0132 07       		.uleb128 0x7
 722 0133 E6000000 		.4byte	0xe6
 723 0137 42010000 		.4byte	0x142
 724 013b 08       		.uleb128 0x8
 725 013c 9E000000 		.4byte	0x9e
 726 0140 00       		.byte	0
 727 0141 00       		.byte	0
 728 0142 07       		.uleb128 0x7
 729 0143 F2000000 		.4byte	0xf2
 730 0147 52010000 		.4byte	0x152
 731 014b 08       		.uleb128 0x8
 732 014c 9E000000 		.4byte	0x9e
 733 0150 00       		.byte	0
 734 0151 00       		.byte	0
 735 0152 09       		.uleb128 0x9
 736 0153 0A       		.byte	0xa
 737 0154 06       		.byte	0x6
 738 0155 9201     		.2byte	0x192
 739 0157 AA010000 		.4byte	0x1aa
 740 015b 0A       		.uleb128 0xa
 741 015c 72617700 		.ascii	"raw\000"
 742 0160 06       		.byte	0x6
 743 0161 9701     		.2byte	0x197
 744 0163 42010000 		.4byte	0x142
 745 0167 00       		.byte	0
 746 0168 0B       		.uleb128 0xb
 747 0169 C9030000 		.4byte	.LASF28
 748 016d 06       		.byte	0x6
 749 016e 9C01     		.2byte	0x19c
 750 0170 42010000 		.4byte	0x142
 751 0174 02       		.byte	0x2
 752 0175 0B       		.uleb128 0xb
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 47


 753 0176 A7010000 		.4byte	.LASF29
 754 017a 06       		.byte	0x6
 755 017b A201     		.2byte	0x1a2
 756 017d 32010000 		.4byte	0x132
 757 0181 04       		.byte	0x4
 758 0182 0B       		.uleb128 0xb
 759 0183 D6020000 		.4byte	.LASF30
 760 0187 06       		.byte	0x6
 761 0188 A701     		.2byte	0x1a7
 762 018a 16010000 		.4byte	0x116
 763 018e 06       		.byte	0x6
 764 018f 0B       		.uleb128 0xb
 765 0190 B9020000 		.4byte	.LASF31
 766 0194 06       		.byte	0x6
 767 0195 AC01     		.2byte	0x1ac
 768 0197 AA010000 		.4byte	0x1aa
 769 019b 08       		.byte	0x8
 770 019c 0B       		.uleb128 0xb
 771 019d 3D000000 		.4byte	.LASF32
 772 01a1 06       		.byte	0x6
 773 01a2 B201     		.2byte	0x1b2
 774 01a4 32010000 		.4byte	0x132
 775 01a8 09       		.byte	0x9
 776 01a9 00       		.byte	0
 777 01aa 07       		.uleb128 0x7
 778 01ab 21010000 		.4byte	0x121
 779 01af BA010000 		.4byte	0x1ba
 780 01b3 08       		.uleb128 0x8
 781 01b4 9E000000 		.4byte	0x9e
 782 01b8 00       		.byte	0
 783 01b9 00       		.byte	0
 784 01ba 05       		.uleb128 0x5
 785 01bb E9020000 		.4byte	.LASF33
 786 01bf 06       		.byte	0x6
 787 01c0 B301     		.2byte	0x1b3
 788 01c2 52010000 		.4byte	0x152
 789 01c6 06       		.uleb128 0x6
 790 01c7 04       		.byte	0x4
 791 01c8 BA010000 		.4byte	0x1ba
 792 01cc 09       		.uleb128 0x9
 793 01cd 02       		.byte	0x2
 794 01ce 06       		.byte	0x6
 795 01cf 5703     		.2byte	0x357
 796 01d1 E3010000 		.4byte	0x1e3
 797 01d5 0B       		.uleb128 0xb
 798 01d6 8F030000 		.4byte	.LASF34
 799 01da 06       		.byte	0x6
 800 01db 6703     		.2byte	0x367
 801 01dd F2000000 		.4byte	0xf2
 802 01e1 00       		.byte	0
 803 01e2 00       		.byte	0
 804 01e3 05       		.uleb128 0x5
 805 01e4 59000000 		.4byte	.LASF35
 806 01e8 06       		.byte	0x6
 807 01e9 7103     		.2byte	0x371
 808 01eb CC010000 		.4byte	0x1cc
 809 01ef 0C       		.uleb128 0xc
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 48


 810 01f0 AF030000 		.4byte	.LASF42
 811 01f4 01       		.byte	0x1
 812 01f5 4801     		.2byte	0x148
 813 01f7 FE000000 		.4byte	0xfe
 814 01fb 00000000 		.4byte	.LFB125
 815 01ff E0010000 		.4byte	.LFE125-.LFB125
 816 0203 01       		.uleb128 0x1
 817 0204 9C       		.byte	0x9c
 818 0205 71020000 		.4byte	0x271
 819 0209 0D       		.uleb128 0xd
 820 020a 3F030000 		.4byte	.LASF36
 821 020e 01       		.byte	0x1
 822 020f 4801     		.2byte	0x148
 823 0211 C6010000 		.4byte	0x1c6
 824 0215 02       		.uleb128 0x2
 825 0216 91       		.byte	0x91
 826 0217 64       		.sleb128 -28
 827 0218 0D       		.uleb128 0xd
 828 0219 84000000 		.4byte	.LASF37
 829 021d 01       		.byte	0x1
 830 021e 4801     		.2byte	0x148
 831 0220 FE000000 		.4byte	0xfe
 832 0224 02       		.uleb128 0x2
 833 0225 91       		.byte	0x91
 834 0226 60       		.sleb128 -32
 835 0227 0D       		.uleb128 0xd
 836 0228 01030000 		.4byte	.LASF38
 837 022c 01       		.byte	0x1
 838 022d 4901     		.2byte	0x149
 839 022f FE000000 		.4byte	0xfe
 840 0233 02       		.uleb128 0x2
 841 0234 91       		.byte	0x91
 842 0235 5C       		.sleb128 -36
 843 0236 0E       		.uleb128 0xe
 844 0237 6900     		.ascii	"i\000"
 845 0239 01       		.byte	0x1
 846 023a 4B01     		.2byte	0x14b
 847 023c FE000000 		.4byte	0xfe
 848 0240 02       		.uleb128 0x2
 849 0241 91       		.byte	0x91
 850 0242 74       		.sleb128 -12
 851 0243 0F       		.uleb128 0xf
 852 0244 A6030000 		.4byte	.LASF39
 853 0248 01       		.byte	0x1
 854 0249 4C01     		.2byte	0x14c
 855 024b FE000000 		.4byte	0xfe
 856 024f 02       		.uleb128 0x2
 857 0250 91       		.byte	0x91
 858 0251 70       		.sleb128 -16
 859 0252 0F       		.uleb128 0xf
 860 0253 FC010000 		.4byte	.LASF40
 861 0257 01       		.byte	0x1
 862 0258 4F01     		.2byte	0x14f
 863 025a C6010000 		.4byte	0x1c6
 864 025e 02       		.uleb128 0x2
 865 025f 91       		.byte	0x91
 866 0260 6C       		.sleb128 -20
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 49


 867 0261 0F       		.uleb128 0xf
 868 0262 BF000000 		.4byte	.LASF41
 869 0266 01       		.byte	0x1
 870 0267 5001     		.2byte	0x150
 871 0269 16010000 		.4byte	0x116
 872 026d 02       		.uleb128 0x2
 873 026e 91       		.byte	0x91
 874 026f 6A       		.sleb128 -22
 875 0270 00       		.byte	0
 876 0271 0C       		.uleb128 0xc
 877 0272 CA010000 		.4byte	.LASF43
 878 0276 01       		.byte	0x1
 879 0277 3702     		.2byte	0x237
 880 0279 FE000000 		.4byte	0xfe
 881 027d 00000000 		.4byte	.LFB126
 882 0281 24010000 		.4byte	.LFE126-.LFB126
 883 0285 01       		.uleb128 0x1
 884 0286 9C       		.byte	0x9c
 885 0287 F3020000 		.4byte	0x2f3
 886 028b 0D       		.uleb128 0xd
 887 028c C1010000 		.4byte	.LASF44
 888 0290 01       		.byte	0x1
 889 0291 3702     		.2byte	0x237
 890 0293 2C010000 		.4byte	0x12c
 891 0297 02       		.uleb128 0x2
 892 0298 91       		.byte	0x91
 893 0299 64       		.sleb128 -28
 894 029a 0D       		.uleb128 0xd
 895 029b 8A010000 		.4byte	.LASF45
 896 029f 01       		.byte	0x1
 897 02a0 3702     		.2byte	0x237
 898 02a2 FE000000 		.4byte	0xfe
 899 02a6 02       		.uleb128 0x2
 900 02a7 91       		.byte	0x91
 901 02a8 60       		.sleb128 -32
 902 02a9 0D       		.uleb128 0xd
 903 02aa 84000000 		.4byte	.LASF37
 904 02ae 01       		.byte	0x1
 905 02af 3702     		.2byte	0x237
 906 02b1 FE000000 		.4byte	0xfe
 907 02b5 02       		.uleb128 0x2
 908 02b6 91       		.byte	0x91
 909 02b7 5C       		.sleb128 -36
 910 02b8 0D       		.uleb128 0xd
 911 02b9 46030000 		.4byte	.LASF46
 912 02bd 01       		.byte	0x1
 913 02be 3702     		.2byte	0x237
 914 02c0 FE000000 		.4byte	0xfe
 915 02c4 02       		.uleb128 0x2
 916 02c5 91       		.byte	0x91
 917 02c6 58       		.sleb128 -40
 918 02c7 0F       		.uleb128 0xf
 919 02c8 6E030000 		.4byte	.LASF47
 920 02cc 01       		.byte	0x1
 921 02cd 3902     		.2byte	0x239
 922 02cf 0A010000 		.4byte	0x10a
 923 02d3 02       		.uleb128 0x2
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 50


 924 02d4 91       		.byte	0x91
 925 02d5 70       		.sleb128 -16
 926 02d6 0F       		.uleb128 0xf
 927 02d7 E9030000 		.4byte	.LASF48
 928 02db 01       		.byte	0x1
 929 02dc 3A02     		.2byte	0x23a
 930 02de 0A010000 		.4byte	0x10a
 931 02e2 02       		.uleb128 0x2
 932 02e3 91       		.byte	0x91
 933 02e4 6C       		.sleb128 -20
 934 02e5 0E       		.uleb128 0xe
 935 02e6 6900     		.ascii	"i\000"
 936 02e8 01       		.byte	0x1
 937 02e9 3B02     		.2byte	0x23b
 938 02eb FE000000 		.4byte	0xfe
 939 02ef 02       		.uleb128 0x2
 940 02f0 91       		.byte	0x91
 941 02f1 74       		.sleb128 -12
 942 02f2 00       		.byte	0
 943 02f3 10       		.uleb128 0x10
 944 02f4 7F020000 		.4byte	.LASF57
 945 02f8 01       		.byte	0x1
 946 02f9 2A07     		.2byte	0x72a
 947 02fb 00000000 		.4byte	.LFB127
 948 02ff 24000000 		.4byte	.LFE127-.LFB127
 949 0303 01       		.uleb128 0x1
 950 0304 9C       		.byte	0x9c
 951 0305 28030000 		.4byte	0x328
 952 0309 0D       		.uleb128 0xd
 953 030a 22000000 		.4byte	.LASF49
 954 030e 01       		.byte	0x1
 955 030f 2A07     		.2byte	0x72a
 956 0311 28030000 		.4byte	0x328
 957 0315 02       		.uleb128 0x2
 958 0316 91       		.byte	0x91
 959 0317 74       		.sleb128 -12
 960 0318 0D       		.uleb128 0xd
 961 0319 2D000000 		.4byte	.LASF50
 962 031d 01       		.byte	0x1
 963 031e 2A07     		.2byte	0x72a
 964 0320 F2000000 		.4byte	0xf2
 965 0324 02       		.uleb128 0x2
 966 0325 91       		.byte	0x91
 967 0326 72       		.sleb128 -14
 968 0327 00       		.byte	0
 969 0328 06       		.uleb128 0x6
 970 0329 04       		.byte	0x4
 971 032a E3010000 		.4byte	0x1e3
 972 032e 11       		.uleb128 0x11
 973 032f 99020000 		.4byte	.LASF51
 974 0333 01       		.byte	0x1
 975 0334 54       		.byte	0x54
 976 0335 32010000 		.4byte	0x132
 977 0339 05       		.uleb128 0x5
 978 033a 03       		.byte	0x3
 979 033b 00000000 		.4byte	localMax
 980 033f 07       		.uleb128 0x7
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 51


 981 0340 16010000 		.4byte	0x116
 982 0344 55030000 		.4byte	0x355
 983 0348 08       		.uleb128 0x8
 984 0349 9E000000 		.4byte	0x9e
 985 034d 00       		.byte	0
 986 034e 08       		.uleb128 0x8
 987 034f 9E000000 		.4byte	0x9e
 988 0353 02       		.byte	0x2
 989 0354 00       		.byte	0
 990 0355 11       		.uleb128 0x11
 991 0356 70020000 		.4byte	.LASF52
 992 035a 01       		.byte	0x1
 993 035b 55       		.byte	0x55
 994 035c 3F030000 		.4byte	0x33f
 995 0360 05       		.uleb128 0x5
 996 0361 03       		.byte	0x3
 997 0362 04000000 		.4byte	localDiffArray
 998 0366 11       		.uleb128 0x11
 999 0367 4D030000 		.4byte	.LASF53
 1000 036b 01       		.byte	0x1
 1001 036c 56       		.byte	0x56
 1002 036d E6000000 		.4byte	0xe6
 1003 0371 05       		.uleb128 0x5
 1004 0372 03       		.byte	0x3
 1005 0373 0A000000 		.4byte	localMaxIndex
 1006 0377 12       		.uleb128 0x12
 1007 0378 7D010000 		.4byte	.LASF58
 1008 037c 07       		.byte	0x7
 1009 037d EA07     		.2byte	0x7ea
 1010 037f 83030000 		.4byte	0x383
 1011 0383 13       		.uleb128 0x13
 1012 0384 C2000000 		.4byte	0xc2
 1013 0388 00       		.byte	0
 1014              		.section	.debug_abbrev,"",%progbits
 1015              	.Ldebug_abbrev0:
 1016 0000 01       		.uleb128 0x1
 1017 0001 11       		.uleb128 0x11
 1018 0002 01       		.byte	0x1
 1019 0003 25       		.uleb128 0x25
 1020 0004 0E       		.uleb128 0xe
 1021 0005 13       		.uleb128 0x13
 1022 0006 0B       		.uleb128 0xb
 1023 0007 03       		.uleb128 0x3
 1024 0008 0E       		.uleb128 0xe
 1025 0009 1B       		.uleb128 0x1b
 1026 000a 0E       		.uleb128 0xe
 1027 000b 55       		.uleb128 0x55
 1028 000c 17       		.uleb128 0x17
 1029 000d 11       		.uleb128 0x11
 1030 000e 01       		.uleb128 0x1
 1031 000f 10       		.uleb128 0x10
 1032 0010 17       		.uleb128 0x17
 1033 0011 00       		.byte	0
 1034 0012 00       		.byte	0
 1035 0013 02       		.uleb128 0x2
 1036 0014 24       		.uleb128 0x24
 1037 0015 00       		.byte	0
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 52


 1038 0016 0B       		.uleb128 0xb
 1039 0017 0B       		.uleb128 0xb
 1040 0018 3E       		.uleb128 0x3e
 1041 0019 0B       		.uleb128 0xb
 1042 001a 03       		.uleb128 0x3
 1043 001b 08       		.uleb128 0x8
 1044 001c 00       		.byte	0
 1045 001d 00       		.byte	0
 1046 001e 03       		.uleb128 0x3
 1047 001f 24       		.uleb128 0x24
 1048 0020 00       		.byte	0
 1049 0021 0B       		.uleb128 0xb
 1050 0022 0B       		.uleb128 0xb
 1051 0023 3E       		.uleb128 0x3e
 1052 0024 0B       		.uleb128 0xb
 1053 0025 03       		.uleb128 0x3
 1054 0026 0E       		.uleb128 0xe
 1055 0027 00       		.byte	0
 1056 0028 00       		.byte	0
 1057 0029 04       		.uleb128 0x4
 1058 002a 16       		.uleb128 0x16
 1059 002b 00       		.byte	0
 1060 002c 03       		.uleb128 0x3
 1061 002d 0E       		.uleb128 0xe
 1062 002e 3A       		.uleb128 0x3a
 1063 002f 0B       		.uleb128 0xb
 1064 0030 3B       		.uleb128 0x3b
 1065 0031 0B       		.uleb128 0xb
 1066 0032 49       		.uleb128 0x49
 1067 0033 13       		.uleb128 0x13
 1068 0034 00       		.byte	0
 1069 0035 00       		.byte	0
 1070 0036 05       		.uleb128 0x5
 1071 0037 16       		.uleb128 0x16
 1072 0038 00       		.byte	0
 1073 0039 03       		.uleb128 0x3
 1074 003a 0E       		.uleb128 0xe
 1075 003b 3A       		.uleb128 0x3a
 1076 003c 0B       		.uleb128 0xb
 1077 003d 3B       		.uleb128 0x3b
 1078 003e 05       		.uleb128 0x5
 1079 003f 49       		.uleb128 0x49
 1080 0040 13       		.uleb128 0x13
 1081 0041 00       		.byte	0
 1082 0042 00       		.byte	0
 1083 0043 06       		.uleb128 0x6
 1084 0044 0F       		.uleb128 0xf
 1085 0045 00       		.byte	0
 1086 0046 0B       		.uleb128 0xb
 1087 0047 0B       		.uleb128 0xb
 1088 0048 49       		.uleb128 0x49
 1089 0049 13       		.uleb128 0x13
 1090 004a 00       		.byte	0
 1091 004b 00       		.byte	0
 1092 004c 07       		.uleb128 0x7
 1093 004d 01       		.uleb128 0x1
 1094 004e 01       		.byte	0x1
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 53


 1095 004f 49       		.uleb128 0x49
 1096 0050 13       		.uleb128 0x13
 1097 0051 01       		.uleb128 0x1
 1098 0052 13       		.uleb128 0x13
 1099 0053 00       		.byte	0
 1100 0054 00       		.byte	0
 1101 0055 08       		.uleb128 0x8
 1102 0056 21       		.uleb128 0x21
 1103 0057 00       		.byte	0
 1104 0058 49       		.uleb128 0x49
 1105 0059 13       		.uleb128 0x13
 1106 005a 2F       		.uleb128 0x2f
 1107 005b 0B       		.uleb128 0xb
 1108 005c 00       		.byte	0
 1109 005d 00       		.byte	0
 1110 005e 09       		.uleb128 0x9
 1111 005f 13       		.uleb128 0x13
 1112 0060 01       		.byte	0x1
 1113 0061 0B       		.uleb128 0xb
 1114 0062 0B       		.uleb128 0xb
 1115 0063 3A       		.uleb128 0x3a
 1116 0064 0B       		.uleb128 0xb
 1117 0065 3B       		.uleb128 0x3b
 1118 0066 05       		.uleb128 0x5
 1119 0067 01       		.uleb128 0x1
 1120 0068 13       		.uleb128 0x13
 1121 0069 00       		.byte	0
 1122 006a 00       		.byte	0
 1123 006b 0A       		.uleb128 0xa
 1124 006c 0D       		.uleb128 0xd
 1125 006d 00       		.byte	0
 1126 006e 03       		.uleb128 0x3
 1127 006f 08       		.uleb128 0x8
 1128 0070 3A       		.uleb128 0x3a
 1129 0071 0B       		.uleb128 0xb
 1130 0072 3B       		.uleb128 0x3b
 1131 0073 05       		.uleb128 0x5
 1132 0074 49       		.uleb128 0x49
 1133 0075 13       		.uleb128 0x13
 1134 0076 38       		.uleb128 0x38
 1135 0077 0B       		.uleb128 0xb
 1136 0078 00       		.byte	0
 1137 0079 00       		.byte	0
 1138 007a 0B       		.uleb128 0xb
 1139 007b 0D       		.uleb128 0xd
 1140 007c 00       		.byte	0
 1141 007d 03       		.uleb128 0x3
 1142 007e 0E       		.uleb128 0xe
 1143 007f 3A       		.uleb128 0x3a
 1144 0080 0B       		.uleb128 0xb
 1145 0081 3B       		.uleb128 0x3b
 1146 0082 05       		.uleb128 0x5
 1147 0083 49       		.uleb128 0x49
 1148 0084 13       		.uleb128 0x13
 1149 0085 38       		.uleb128 0x38
 1150 0086 0B       		.uleb128 0xb
 1151 0087 00       		.byte	0
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 54


 1152 0088 00       		.byte	0
 1153 0089 0C       		.uleb128 0xc
 1154 008a 2E       		.uleb128 0x2e
 1155 008b 01       		.byte	0x1
 1156 008c 3F       		.uleb128 0x3f
 1157 008d 19       		.uleb128 0x19
 1158 008e 03       		.uleb128 0x3
 1159 008f 0E       		.uleb128 0xe
 1160 0090 3A       		.uleb128 0x3a
 1161 0091 0B       		.uleb128 0xb
 1162 0092 3B       		.uleb128 0x3b
 1163 0093 05       		.uleb128 0x5
 1164 0094 27       		.uleb128 0x27
 1165 0095 19       		.uleb128 0x19
 1166 0096 49       		.uleb128 0x49
 1167 0097 13       		.uleb128 0x13
 1168 0098 11       		.uleb128 0x11
 1169 0099 01       		.uleb128 0x1
 1170 009a 12       		.uleb128 0x12
 1171 009b 06       		.uleb128 0x6
 1172 009c 40       		.uleb128 0x40
 1173 009d 18       		.uleb128 0x18
 1174 009e 9742     		.uleb128 0x2117
 1175 00a0 19       		.uleb128 0x19
 1176 00a1 01       		.uleb128 0x1
 1177 00a2 13       		.uleb128 0x13
 1178 00a3 00       		.byte	0
 1179 00a4 00       		.byte	0
 1180 00a5 0D       		.uleb128 0xd
 1181 00a6 05       		.uleb128 0x5
 1182 00a7 00       		.byte	0
 1183 00a8 03       		.uleb128 0x3
 1184 00a9 0E       		.uleb128 0xe
 1185 00aa 3A       		.uleb128 0x3a
 1186 00ab 0B       		.uleb128 0xb
 1187 00ac 3B       		.uleb128 0x3b
 1188 00ad 05       		.uleb128 0x5
 1189 00ae 49       		.uleb128 0x49
 1190 00af 13       		.uleb128 0x13
 1191 00b0 02       		.uleb128 0x2
 1192 00b1 18       		.uleb128 0x18
 1193 00b2 00       		.byte	0
 1194 00b3 00       		.byte	0
 1195 00b4 0E       		.uleb128 0xe
 1196 00b5 34       		.uleb128 0x34
 1197 00b6 00       		.byte	0
 1198 00b7 03       		.uleb128 0x3
 1199 00b8 08       		.uleb128 0x8
 1200 00b9 3A       		.uleb128 0x3a
 1201 00ba 0B       		.uleb128 0xb
 1202 00bb 3B       		.uleb128 0x3b
 1203 00bc 05       		.uleb128 0x5
 1204 00bd 49       		.uleb128 0x49
 1205 00be 13       		.uleb128 0x13
 1206 00bf 02       		.uleb128 0x2
 1207 00c0 18       		.uleb128 0x18
 1208 00c1 00       		.byte	0
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 55


 1209 00c2 00       		.byte	0
 1210 00c3 0F       		.uleb128 0xf
 1211 00c4 34       		.uleb128 0x34
 1212 00c5 00       		.byte	0
 1213 00c6 03       		.uleb128 0x3
 1214 00c7 0E       		.uleb128 0xe
 1215 00c8 3A       		.uleb128 0x3a
 1216 00c9 0B       		.uleb128 0xb
 1217 00ca 3B       		.uleb128 0x3b
 1218 00cb 05       		.uleb128 0x5
 1219 00cc 49       		.uleb128 0x49
 1220 00cd 13       		.uleb128 0x13
 1221 00ce 02       		.uleb128 0x2
 1222 00cf 18       		.uleb128 0x18
 1223 00d0 00       		.byte	0
 1224 00d1 00       		.byte	0
 1225 00d2 10       		.uleb128 0x10
 1226 00d3 2E       		.uleb128 0x2e
 1227 00d4 01       		.byte	0x1
 1228 00d5 3F       		.uleb128 0x3f
 1229 00d6 19       		.uleb128 0x19
 1230 00d7 03       		.uleb128 0x3
 1231 00d8 0E       		.uleb128 0xe
 1232 00d9 3A       		.uleb128 0x3a
 1233 00da 0B       		.uleb128 0xb
 1234 00db 3B       		.uleb128 0x3b
 1235 00dc 05       		.uleb128 0x5
 1236 00dd 27       		.uleb128 0x27
 1237 00de 19       		.uleb128 0x19
 1238 00df 11       		.uleb128 0x11
 1239 00e0 01       		.uleb128 0x1
 1240 00e1 12       		.uleb128 0x12
 1241 00e2 06       		.uleb128 0x6
 1242 00e3 40       		.uleb128 0x40
 1243 00e4 18       		.uleb128 0x18
 1244 00e5 9742     		.uleb128 0x2117
 1245 00e7 19       		.uleb128 0x19
 1246 00e8 01       		.uleb128 0x1
 1247 00e9 13       		.uleb128 0x13
 1248 00ea 00       		.byte	0
 1249 00eb 00       		.byte	0
 1250 00ec 11       		.uleb128 0x11
 1251 00ed 34       		.uleb128 0x34
 1252 00ee 00       		.byte	0
 1253 00ef 03       		.uleb128 0x3
 1254 00f0 0E       		.uleb128 0xe
 1255 00f1 3A       		.uleb128 0x3a
 1256 00f2 0B       		.uleb128 0xb
 1257 00f3 3B       		.uleb128 0x3b
 1258 00f4 0B       		.uleb128 0xb
 1259 00f5 49       		.uleb128 0x49
 1260 00f6 13       		.uleb128 0x13
 1261 00f7 02       		.uleb128 0x2
 1262 00f8 18       		.uleb128 0x18
 1263 00f9 00       		.byte	0
 1264 00fa 00       		.byte	0
 1265 00fb 12       		.uleb128 0x12
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 56


 1266 00fc 34       		.uleb128 0x34
 1267 00fd 00       		.byte	0
 1268 00fe 03       		.uleb128 0x3
 1269 00ff 0E       		.uleb128 0xe
 1270 0100 3A       		.uleb128 0x3a
 1271 0101 0B       		.uleb128 0xb
 1272 0102 3B       		.uleb128 0x3b
 1273 0103 05       		.uleb128 0x5
 1274 0104 49       		.uleb128 0x49
 1275 0105 13       		.uleb128 0x13
 1276 0106 3F       		.uleb128 0x3f
 1277 0107 19       		.uleb128 0x19
 1278 0108 3C       		.uleb128 0x3c
 1279 0109 19       		.uleb128 0x19
 1280 010a 00       		.byte	0
 1281 010b 00       		.byte	0
 1282 010c 13       		.uleb128 0x13
 1283 010d 35       		.uleb128 0x35
 1284 010e 00       		.byte	0
 1285 010f 49       		.uleb128 0x49
 1286 0110 13       		.uleb128 0x13
 1287 0111 00       		.byte	0
 1288 0112 00       		.byte	0
 1289 0113 00       		.byte	0
 1290              		.section	.debug_aranges,"",%progbits
 1291 0000 2C000000 		.4byte	0x2c
 1292 0004 0200     		.2byte	0x2
 1293 0006 00000000 		.4byte	.Ldebug_info0
 1294 000a 04       		.byte	0x4
 1295 000b 00       		.byte	0
 1296 000c 0000     		.2byte	0
 1297 000e 0000     		.2byte	0
 1298 0010 00000000 		.4byte	.LFB125
 1299 0014 E0010000 		.4byte	.LFE125-.LFB125
 1300 0018 00000000 		.4byte	.LFB126
 1301 001c 24010000 		.4byte	.LFE126-.LFB126
 1302 0020 00000000 		.4byte	.LFB127
 1303 0024 24000000 		.4byte	.LFE127-.LFB127
 1304 0028 00000000 		.4byte	0
 1305 002c 00000000 		.4byte	0
 1306              		.section	.debug_ranges,"",%progbits
 1307              	.Ldebug_ranges0:
 1308 0000 00000000 		.4byte	.LFB125
 1309 0004 E0010000 		.4byte	.LFE125
 1310 0008 00000000 		.4byte	.LFB126
 1311 000c 24010000 		.4byte	.LFE126
 1312 0010 00000000 		.4byte	.LFB127
 1313 0014 24000000 		.4byte	.LFE127
 1314 0018 00000000 		.4byte	0
 1315 001c 00000000 		.4byte	0
 1316              		.section	.debug_line,"",%progbits
 1317              	.Ldebug_line0:
 1318 0000 C5020000 		.section	.debug_str,"MS",%progbits,1
 1318      0200F001 
 1318      00000201 
 1318      FB0E0D00 
 1318      01010101 
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 57


 1319              	.LASF26:
 1320 0000 43617053 		.ascii	"CapSense_THRESHOLD_TYPE\000"
 1320      656E7365 
 1320      5F544852 
 1320      4553484F 
 1320      4C445F54 
 1321              	.LASF6:
 1322 0018 5F5F7569 		.ascii	"__uint8_t\000"
 1322      6E74385F 
 1322      7400
 1323              	.LASF49:
 1324 0022 70747248 		.ascii	"ptrHistory\000"
 1324      6973746F 
 1324      727900
 1325              	.LASF50:
 1326 002d 76616C75 		.ascii	"value\000"
 1326      6500
 1327              	.LASF9:
 1328 0033 5F5F696E 		.ascii	"__int32_t\000"
 1328      7433325F 
 1328      7400
 1329              	.LASF32:
 1330 003d 69646163 		.ascii	"idacComp\000"
 1330      436F6D70 
 1330      00
 1331              	.LASF8:
 1332 0046 73686F72 		.ascii	"short unsigned int\000"
 1332      7420756E 
 1332      7369676E 
 1332      65642069 
 1332      6E7400
 1333              	.LASF35:
 1334 0059 43617053 		.ascii	"CapSense_SLIDER_POS_HISTORY_STRUCT\000"
 1334      656E7365 
 1334      5F534C49 
 1334      4445525F 
 1334      504F535F 
 1335              	.LASF18:
 1336 007c 696E7433 		.ascii	"int32_t\000"
 1336      325F7400 
 1337              	.LASF37:
 1338 0084 736E7343 		.ascii	"snsCount\000"
 1338      6F756E74 
 1338      00
 1339              	.LASF20:
 1340 008d 666C6F61 		.ascii	"float\000"
 1340      7400
 1341              	.LASF3:
 1342 0093 7369676E 		.ascii	"signed char\000"
 1342      65642063 
 1342      68617200 
 1343              	.LASF4:
 1344 009f 756E7369 		.ascii	"unsigned char\000"
 1344      676E6564 
 1344      20636861 
 1344      7200
 1345              	.LASF12:
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 58


 1346 00ad 6C6F6E67 		.ascii	"long unsigned int\000"
 1346      20756E73 
 1346      69676E65 
 1346      6420696E 
 1346      7400
 1347              	.LASF41:
 1348 00bf 74656D70 		.ascii	"temp\000"
 1348      00
 1349              	.LASF22:
 1350 00c4 75696E74 		.ascii	"uint8\000"
 1350      3800
 1351              	.LASF54:
 1352 00ca 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 1352      43313120 
 1352      352E342E 
 1352      31203230 
 1352      31363036 
 1353 00fd 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m4 -mfloat-abi=s"
 1353      20726576 
 1353      6973696F 
 1353      6E203233 
 1353      37373135 
 1354 0130 6F667466 		.ascii	"oftfp -mfpu=fpv4-sp-d16 -mthumb -g -O0 -ffunction-s"
 1354      70202D6D 
 1354      6670753D 
 1354      66707634 
 1354      2D73702D 
 1355 0163 65637469 		.ascii	"ections -ffat-lto-objects\000"
 1355      6F6E7320 
 1355      2D666661 
 1355      742D6C74 
 1355      6F2D6F62 
 1356              	.LASF58:
 1357 017d 49544D5F 		.ascii	"ITM_RxBuffer\000"
 1357      52784275 
 1357      66666572 
 1357      00
 1358              	.LASF45:
 1359 018a 6D756C74 		.ascii	"multiplier\000"
 1359      69706C69 
 1359      657200
 1360              	.LASF7:
 1361 0195 5F5F7569 		.ascii	"__uint16_t\000"
 1361      6E743136 
 1361      5F7400
 1362              	.LASF21:
 1363 01a0 646F7562 		.ascii	"double\000"
 1363      6C6500
 1364              	.LASF29:
 1365 01a7 62736C6E 		.ascii	"bslnExt\000"
 1365      45787400 
 1366              	.LASF11:
 1367 01af 5F5F7569 		.ascii	"__uint32_t\000"
 1367      6E743332 
 1367      5F7400
 1368              	.LASF23:
 1369 01ba 75696E74 		.ascii	"uint16\000"
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 59


 1369      313600
 1370              	.LASF44:
 1371 01c1 706F7369 		.ascii	"position\000"
 1371      74696F6E 
 1371      00
 1372              	.LASF43:
 1373 01ca 43617053 		.ascii	"CapSense_DpCalcLinearCentroid\000"
 1373      656E7365 
 1373      5F447043 
 1373      616C634C 
 1373      696E6561 
 1374              	.LASF24:
 1375 01e8 75696E74 		.ascii	"uint32\000"
 1375      333200
 1376              	.LASF0:
 1377 01ef 756E7369 		.ascii	"unsigned int\000"
 1377      676E6564 
 1377      20696E74 
 1377      00
 1378              	.LASF40:
 1379 01fc 6C6F6361 		.ascii	"localPtrSns\000"
 1379      6C507472 
 1379      536E7300 
 1380              	.LASF56:
 1381 0208 433A5C55 		.ascii	"C:\\Users\\ikomb\\Documents\\PSoC Creator\\CE222221"
 1381      73657273 
 1381      5C696B6F 
 1381      6D625C44 
 1381      6F63756D 
 1382 0236 5F566F69 		.ascii	"_Voice_Recorder01\\CE222221_Voice_Recorder01.cydsn\000"
 1382      63655F52 
 1382      65636F72 
 1382      64657230 
 1382      315C4345 
 1383              	.LASF16:
 1384 0268 75696E74 		.ascii	"uint8_t\000"
 1384      385F7400 
 1385              	.LASF52:
 1386 0270 6C6F6361 		.ascii	"localDiffArray\000"
 1386      6C446966 
 1386      66417272 
 1386      617900
 1387              	.LASF57:
 1388 027f 43617053 		.ascii	"CapSense_InitPosFiltersSd\000"
 1388      656E7365 
 1388      5F496E69 
 1388      74506F73 
 1388      46696C74 
 1389              	.LASF51:
 1390 0299 6C6F6361 		.ascii	"localMax\000"
 1390      6C4D6178 
 1390      00
 1391              	.LASF13:
 1392 02a2 6C6F6E67 		.ascii	"long long unsigned int\000"
 1392      206C6F6E 
 1392      6720756E 
 1392      7369676E 
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 60


 1392      65642069 
 1393              	.LASF31:
 1394 02b9 6E656742 		.ascii	"negBslnRstCnt\000"
 1394      736C6E52 
 1394      7374436E 
 1394      7400
 1395              	.LASF25:
 1396 02c7 696E7433 		.ascii	"int32\000"
 1396      3200
 1397              	.LASF14:
 1398 02cd 73697A65 		.ascii	"sizetype\000"
 1398      74797065 
 1398      00
 1399              	.LASF30:
 1400 02d6 64696666 		.ascii	"diff\000"
 1400      00
 1401              	.LASF1:
 1402 02db 6C6F6E67 		.ascii	"long long int\000"
 1402      206C6F6E 
 1402      6720696E 
 1402      7400
 1403              	.LASF33:
 1404 02e9 43617053 		.ascii	"CapSense_RAM_SNS_STRUCT\000"
 1404      656E7365 
 1404      5F52414D 
 1404      5F534E53 
 1404      5F535452 
 1405              	.LASF38:
 1406 0301 66696E67 		.ascii	"fingerThreshold\000"
 1406      65725468 
 1406      72657368 
 1406      6F6C6400 
 1407              	.LASF55:
 1408 0311 47656E65 		.ascii	"Generated_Source\\PSoC6\\CapSense_Centroid_LL.c\000"
 1408      72617465 
 1408      645F536F 
 1408      75726365 
 1408      5C50536F 
 1409              	.LASF36:
 1410 033f 70747253 		.ascii	"ptrSns\000"
 1410      6E7300
 1411              	.LASF46:
 1412 0346 6F666673 		.ascii	"offset\000"
 1412      657400
 1413              	.LASF53:
 1414 034d 6C6F6361 		.ascii	"localMaxIndex\000"
 1414      6C4D6178 
 1414      496E6465 
 1414      7800
 1415              	.LASF5:
 1416 035b 73686F72 		.ascii	"short int\000"
 1416      7420696E 
 1416      7400
 1417              	.LASF17:
 1418 0365 75696E74 		.ascii	"uint16_t\000"
 1418      31365F74 
 1418      00
ARM GAS  C:\Users\ikomb\AppData\Local\Temp\cco9i6Kx.s 			page 61


 1419              	.LASF47:
 1420 036e 6E756D65 		.ascii	"numerator\000"
 1420      7261746F 
 1420      7200
 1421              	.LASF19:
 1422 0378 75696E74 		.ascii	"uint32_t\000"
 1422      33325F74 
 1422      00
 1423              	.LASF10:
 1424 0381 6C6F6E67 		.ascii	"long int\000"
 1424      20696E74 
 1424      00
 1425              	.LASF15:
 1426 038a 63686172 		.ascii	"char\000"
 1426      00
 1427              	.LASF34:
 1428 038f 706F7341 		.ascii	"posAverage\000"
 1428      76657261 
 1428      676500
 1429              	.LASF2:
 1430 039a 6C6F6E67 		.ascii	"long double\000"
 1430      20646F75 
 1430      626C6500 
 1431              	.LASF39:
 1432 03a6 73656E73 		.ascii	"sensorId\000"
 1432      6F724964 
 1432      00
 1433              	.LASF42:
 1434 03af 43617053 		.ascii	"CapSense_DpFindLocalMaxSd\000"
 1434      656E7365 
 1434      5F447046 
 1434      696E644C 
 1434      6F63616C 
 1435              	.LASF28:
 1436 03c9 62736C6E 		.ascii	"bsln\000"
 1436      00
 1437              	.LASF27:
 1438 03ce 43617053 		.ascii	"CapSense_LOW_BSLN_RST_TYPE\000"
 1438      656E7365 
 1438      5F4C4F57 
 1438      5F42534C 
 1438      4E5F5253 
 1439              	.LASF48:
 1440 03e9 64656E6F 		.ascii	"denominator\000"
 1440      6D696E61 
 1440      746F7200 
 1441              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
